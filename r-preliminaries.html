<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R Programming for Research</title>
  <meta name="description" content="This is a bookdown version of the course notes for R Programming for Research, Colorado State University, Fall 2016.">
  <meta name="generator" content="bookdown 0.5.4 and GitBook 2.6.7">

  <meta property="og:title" content="R Programming for Research" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a bookdown version of the course notes for R Programming for Research, Colorado State University, Fall 2016." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R Programming for Research" />
  
  <meta name="twitter:description" content="This is a bookdown version of the course notes for R Programming for Research, Colorado State University, Fall 2016." />
  

<meta name="author" content="Brooke Anderson and Rachel Severson">


<meta name="date" content="2017-10-30">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="course-information.html">
<link rel="next" href="entering-and-cleaning-data-1.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Programming for Research</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Online course book, ERHS 535</a></li>
<li class="chapter" data-level="" data-path="course-information.html"><a href="course-information.html"><i class="fa fa-check"></i>Course information</a><ul>
<li class="chapter" data-level="0.1" data-path="course-information.html"><a href="course-information.html#course-overview"><i class="fa fa-check"></i><b>0.1</b> Course overview</a></li>
<li class="chapter" data-level="0.2" data-path="course-information.html"><a href="course-information.html#time-and-place"><i class="fa fa-check"></i><b>0.2</b> Time and place</a></li>
<li class="chapter" data-level="0.3" data-path="course-information.html"><a href="course-information.html#detailed-schedule"><i class="fa fa-check"></i><b>0.3</b> Detailed schedule</a></li>
<li class="chapter" data-level="0.4" data-path="course-information.html"><a href="course-information.html#grading"><i class="fa fa-check"></i><b>0.4</b> Grading</a><ul>
<li class="chapter" data-level="0.4.1" data-path="course-information.html"><a href="course-information.html#attendance-and-class-participation"><i class="fa fa-check"></i><b>0.4.1</b> Attendance and class participation</a></li>
<li class="chapter" data-level="0.4.2" data-path="course-information.html"><a href="course-information.html#weekly-in-course-group-exercises"><i class="fa fa-check"></i><b>0.4.2</b> Weekly in-course group exercises</a></li>
<li class="chapter" data-level="0.4.3" data-path="course-information.html"><a href="course-information.html#in-class-quizzes"><i class="fa fa-check"></i><b>0.4.3</b> In-class quizzes</a></li>
<li class="chapter" data-level="0.4.4" data-path="course-information.html"><a href="course-information.html#homework"><i class="fa fa-check"></i><b>0.4.4</b> Homework</a></li>
<li class="chapter" data-level="0.4.5" data-path="course-information.html"><a href="course-information.html#final-group-project"><i class="fa fa-check"></i><b>0.4.5</b> Final group project</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="course-information.html"><a href="course-information.html#course-set-up"><i class="fa fa-check"></i><b>0.5</b> Course set-up</a></li>
<li class="chapter" data-level="0.6" data-path="course-information.html"><a href="course-information.html#coursebook"><i class="fa fa-check"></i><b>0.6</b> Coursebook</a><ul>
<li class="chapter" data-level="0.6.1" data-path="course-information.html"><a href="course-information.html#other-helpful-books-not-required"><i class="fa fa-check"></i><b>0.6.1</b> Other helpful books (not required)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Part I: Preliminaries</b></span></li>
<li class="chapter" data-level="1" data-path="r-preliminaries.html"><a href="r-preliminaries.html"><i class="fa fa-check"></i><b>1</b> R Preliminaries</a><ul>
<li class="chapter" data-level="1.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#r-and-r-studio"><i class="fa fa-check"></i><b>1.1</b> R and R Studio</a><ul>
<li class="chapter" data-level="1.1.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#what-is-r"><i class="fa fa-check"></i><b>1.1.1</b> What is R?</a></li>
<li class="chapter" data-level="1.1.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#open-source-software"><i class="fa fa-check"></i><b>1.1.2</b> Open-source software</a></li>
<li class="chapter" data-level="1.1.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#what-is-rstudio"><i class="fa fa-check"></i><b>1.1.3</b> What is RStudio?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#the-package-system"><i class="fa fa-check"></i><b>1.2</b> The “package” system</a><ul>
<li class="chapter" data-level="1.2.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#r-packages"><i class="fa fa-check"></i><b>1.2.1</b> R packages</a></li>
<li class="chapter" data-level="1.2.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#installing-from-cran"><i class="fa fa-check"></i><b>1.2.2</b> Installing from CRAN</a></li>
<li class="chapter" data-level="1.2.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#loading-an-installed-package"><i class="fa fa-check"></i><b>1.2.3</b> Loading an installed package</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#basic-code-conventions-of-r"><i class="fa fa-check"></i><b>1.3</b> Basic code conventions of R</a><ul>
<li class="chapter" data-level="1.3.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#rs-mvp-the-gets-arrow"><i class="fa fa-check"></i><b>1.3.1</b> R’s MVP: The <em>gets arrow</em></a></li>
<li class="chapter" data-level="1.3.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#assignment-operator-wars---vs."><i class="fa fa-check"></i><b>1.3.2</b> Assignment operator wars: <code>&lt;-</code> vs. <code>=</code></a></li>
<li class="chapter" data-level="1.3.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#naming-objects"><i class="fa fa-check"></i><b>1.3.3</b> Naming objects</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="r-preliminaries.html"><a href="r-preliminaries.html#rs-most-basic-object-types"><i class="fa fa-check"></i><b>1.4</b> R’s most basic object types</a><ul>
<li class="chapter" data-level="1.4.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#vectors"><i class="fa fa-check"></i><b>1.4.1</b> Vectors</a></li>
<li class="chapter" data-level="1.4.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#dataframes"><i class="fa fa-check"></i><b>1.4.2</b> Dataframes</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="r-preliminaries.html"><a href="r-preliminaries.html#using-r-functions"><i class="fa fa-check"></i><b>1.5</b> Using R functions</a><ul>
<li class="chapter" data-level="1.5.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#function-structure"><i class="fa fa-check"></i><b>1.5.1</b> Function structure</a></li>
<li class="chapter" data-level="1.5.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#function-help-files"><i class="fa fa-check"></i><b>1.5.2</b> Function help files</a></li>
<li class="chapter" data-level="1.5.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#function-parameters"><i class="fa fa-check"></i><b>1.5.3</b> Function parameters</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="r-preliminaries.html"><a href="r-preliminaries.html#r-scripts"><i class="fa fa-check"></i><b>1.6</b> R scripts</a><ul>
<li class="chapter" data-level="1.6.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#commenting-code"><i class="fa fa-check"></i><b>1.6.1</b> Commenting code</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="r-preliminaries.html"><a href="r-preliminaries.html#in-course-exercise"><i class="fa fa-check"></i><b>1.7</b> In-course Exercise</a><ul>
<li class="chapter" data-level="1.7.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#about-the-dataset"><i class="fa fa-check"></i><b>1.7.1</b> About the dataset</a></li>
<li class="chapter" data-level="1.7.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#manually-creating-vectors-and-a-dataframe"><i class="fa fa-check"></i><b>1.7.2</b> Manually creating vectors and a dataframe</a></li>
<li class="chapter" data-level="1.7.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#installing-and-using-a-package"><i class="fa fa-check"></i><b>1.7.3</b> Installing and using a package</a></li>
<li class="chapter" data-level="1.7.4" data-path="r-preliminaries.html"><a href="r-preliminaries.html#getting-the-data-onto-your-computer"><i class="fa fa-check"></i><b>1.7.4</b> Getting the data onto your computer</a></li>
<li class="chapter" data-level="1.7.5" data-path="r-preliminaries.html"><a href="r-preliminaries.html#getting-the-data-into-r"><i class="fa fa-check"></i><b>1.7.5</b> Getting the data into R</a></li>
<li class="chapter" data-level="1.7.6" data-path="r-preliminaries.html"><a href="r-preliminaries.html#checking-out-the-data"><i class="fa fa-check"></i><b>1.7.6</b> Checking out the data</a></li>
<li class="chapter" data-level="1.7.7" data-path="r-preliminaries.html"><a href="r-preliminaries.html#using-the-data-to-answer-questions"><i class="fa fa-check"></i><b>1.7.7</b> Using the data to answer questions</a></li>
<li class="chapter" data-level="1.7.8" data-path="r-preliminaries.html"><a href="r-preliminaries.html#writing-your-code-as-an-r-script"><i class="fa fa-check"></i><b>1.7.8</b> Writing your code as an R script</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Part II: Basics</b></span></li>
<li class="chapter" data-level="2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html"><i class="fa fa-check"></i><b>2</b> Entering and cleaning data #1</a><ul>
<li class="chapter" data-level="2.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#directories-and-pathnames"><i class="fa fa-check"></i><b>2.1</b> Directories and pathnames</a><ul>
<li class="chapter" data-level="2.1.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#directory-structure"><i class="fa fa-check"></i><b>2.1.1</b> Directory structure</a></li>
<li class="chapter" data-level="2.1.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#working-directory"><i class="fa fa-check"></i><b>2.1.2</b> Working directory</a></li>
<li class="chapter" data-level="2.1.3" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#file-and-directory-pathnames"><i class="fa fa-check"></i><b>2.1.3</b> File and directory pathnames</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#diversion-paste"><i class="fa fa-check"></i><b>2.2</b> Diversion: <code>paste</code></a></li>
<li class="chapter" data-level="2.3" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-data-into-r"><i class="fa fa-check"></i><b>2.3</b> Reading data into R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-local-flat-files"><i class="fa fa-check"></i><b>2.3.1</b> Reading local flat files</a></li>
<li class="chapter" data-level="2.3.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#the-read_-functions"><i class="fa fa-check"></i><b>2.3.2</b> The <code>read_*</code> functions</a></li>
<li class="chapter" data-level="2.3.3" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-online-flat-files"><i class="fa fa-check"></i><b>2.3.3</b> Reading online flat files</a></li>
<li class="chapter" data-level="2.3.4" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#saving-and-loading-r-objects"><i class="fa fa-check"></i><b>2.3.4</b> Saving and loading R objects</a></li>
<li class="chapter" data-level="2.3.5" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-other-file-types"><i class="fa fa-check"></i><b>2.3.5</b> Reading other file types</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#data-cleaning"><i class="fa fa-check"></i><b>2.4</b> Data cleaning</a><ul>
<li class="chapter" data-level="2.4.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#renaming-columns"><i class="fa fa-check"></i><b>2.4.1</b> Renaming columns</a></li>
<li class="chapter" data-level="2.4.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#selecting-columns"><i class="fa fa-check"></i><b>2.4.2</b> Selecting columns</a></li>
<li class="chapter" data-level="2.4.3" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#filtering-to-certain-rows"><i class="fa fa-check"></i><b>2.4.3</b> Filtering to certain rows</a></li>
<li class="chapter" data-level="2.4.4" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#add-or-change-columns"><i class="fa fa-check"></i><b>2.4.4</b> Add or change columns</a></li>
<li class="chapter" data-level="2.4.5" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#piping"><i class="fa fa-check"></i><b>2.4.5</b> Piping</a></li>
<li class="chapter" data-level="2.4.6" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#base-r-equivalents-to-dplyr-functions"><i class="fa fa-check"></i><b>2.4.6</b> Base R equivalents to <code>dplyr</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#dates-in-r"><i class="fa fa-check"></i><b>2.5</b> Dates in R</a></li>
<li class="chapter" data-level="2.6" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise-1"><i class="fa fa-check"></i><b>2.6</b> In-course Exercise</a><ul>
<li class="chapter" data-level="2.6.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#checking-out-directory-structures"><i class="fa fa-check"></i><b>2.6.1</b> Checking out directory structures</a></li>
<li class="chapter" data-level="2.6.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#using-relative-and-absolute-file-pathnames"><i class="fa fa-check"></i><b>2.6.2</b> Using relative and absolute file pathnames</a></li>
<li class="chapter" data-level="2.6.3" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-in-different-types-of-files"><i class="fa fa-check"></i><b>2.6.3</b> Reading in different types of files</a></li>
<li class="chapter" data-level="2.6.4" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#cleaning-up-data-1"><i class="fa fa-check"></i><b>2.6.4</b> Cleaning up data #1</a></li>
<li class="chapter" data-level="2.6.5" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#cleaning-up-data-2"><i class="fa fa-check"></i><b>2.6.5</b> Cleaning up data #2</a></li>
<li class="chapter" data-level="2.6.6" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#piping-1"><i class="fa fa-check"></i><b>2.6.6</b> Piping</a></li>
<li class="chapter" data-level="2.6.7" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#a-taste-of-whats-to-come"><i class="fa fa-check"></i><b>2.6.7</b> A taste of what’s to come…</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="exploring-data-1.html"><a href="exploring-data-1.html"><i class="fa fa-check"></i><b>3</b> Exploring data #1</a><ul>
<li class="chapter" data-level="3.1" data-path="exploring-data-1.html"><a href="exploring-data-1.html#data-from-a-package"><i class="fa fa-check"></i><b>3.1</b> Data from a package</a></li>
<li class="chapter" data-level="3.2" data-path="exploring-data-1.html"><a href="exploring-data-1.html#plots-to-explore-data"><i class="fa fa-check"></i><b>3.2</b> Plots to explore data</a><ul>
<li class="chapter" data-level="3.2.1" data-path="exploring-data-1.html"><a href="exploring-data-1.html#initializing-a-ggplot-object"><i class="fa fa-check"></i><b>3.2.1</b> Initializing a ggplot object</a></li>
<li class="chapter" data-level="3.2.2" data-path="exploring-data-1.html"><a href="exploring-data-1.html#plot-aesthetics"><i class="fa fa-check"></i><b>3.2.2</b> Plot aesthetics</a></li>
<li class="chapter" data-level="3.2.3" data-path="exploring-data-1.html"><a href="exploring-data-1.html#adding-geoms"><i class="fa fa-check"></i><b>3.2.3</b> Adding geoms</a></li>
<li class="chapter" data-level="3.2.4" data-path="exploring-data-1.html"><a href="exploring-data-1.html#constant-aesthetics"><i class="fa fa-check"></i><b>3.2.4</b> Constant aesthetics</a></li>
<li class="chapter" data-level="3.2.5" data-path="exploring-data-1.html"><a href="exploring-data-1.html#useful-plot-additions"><i class="fa fa-check"></i><b>3.2.5</b> Useful plot additions</a></li>
<li class="chapter" data-level="3.2.6" data-path="exploring-data-1.html"><a href="exploring-data-1.html#example-dataset"><i class="fa fa-check"></i><b>3.2.6</b> Example dataset</a></li>
<li class="chapter" data-level="3.2.7" data-path="exploring-data-1.html"><a href="exploring-data-1.html#histograms"><i class="fa fa-check"></i><b>3.2.7</b> Histograms</a></li>
<li class="chapter" data-level="3.2.8" data-path="exploring-data-1.html"><a href="exploring-data-1.html#scatterplots"><i class="fa fa-check"></i><b>3.2.8</b> Scatterplots</a></li>
<li class="chapter" data-level="3.2.9" data-path="exploring-data-1.html"><a href="exploring-data-1.html#boxplots"><i class="fa fa-check"></i><b>3.2.9</b> Boxplots</a></li>
<li class="chapter" data-level="3.2.10" data-path="exploring-data-1.html"><a href="exploring-data-1.html#extensions-of-ggplot2"><i class="fa fa-check"></i><b>3.2.10</b> Extensions of <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="exploring-data-1.html"><a href="exploring-data-1.html#simple-statistics-functions"><i class="fa fa-check"></i><b>3.3</b> Simple statistics functions</a><ul>
<li class="chapter" data-level="3.3.1" data-path="exploring-data-1.html"><a href="exploring-data-1.html#summary-statistics"><i class="fa fa-check"></i><b>3.3.1</b> Summary statistics</a></li>
<li class="chapter" data-level="3.3.2" data-path="exploring-data-1.html"><a href="exploring-data-1.html#summarize-function"><i class="fa fa-check"></i><b>3.3.2</b> <code>summarize</code> function</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="exploring-data-1.html"><a href="exploring-data-1.html#logical-vectors"><i class="fa fa-check"></i><b>3.4</b> Logical vectors</a></li>
<li class="chapter" data-level="3.5" data-path="exploring-data-1.html"><a href="exploring-data-1.html#regression-models"><i class="fa fa-check"></i><b>3.5</b> Regression models</a><ul>
<li class="chapter" data-level="3.5.1" data-path="exploring-data-1.html"><a href="exploring-data-1.html#formula-structure"><i class="fa fa-check"></i><b>3.5.1</b> Formula structure</a></li>
<li class="chapter" data-level="3.5.2" data-path="exploring-data-1.html"><a href="exploring-data-1.html#linear-models"><i class="fa fa-check"></i><b>3.5.2</b> Linear models</a></li>
<li class="chapter" data-level="3.5.3" data-path="exploring-data-1.html"><a href="exploring-data-1.html#generalized-linear-models-glms"><i class="fa fa-check"></i><b>3.5.3</b> Generalized linear models (GLMs)</a></li>
<li class="chapter" data-level="3.5.4" data-path="exploring-data-1.html"><a href="exploring-data-1.html#references-statistics-in-r"><i class="fa fa-check"></i><b>3.5.4</b> References– statistics in R</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="exploring-data-1.html"><a href="exploring-data-1.html#in-course-exercise-2"><i class="fa fa-check"></i><b>3.6</b> In-course exercise</a><ul>
<li class="chapter" data-level="3.6.1" data-path="exploring-data-1.html"><a href="exploring-data-1.html#loading-data-from-an-r-package"><i class="fa fa-check"></i><b>3.6.1</b> Loading data from an R package</a></li>
<li class="chapter" data-level="3.6.2" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-logical-statements"><i class="fa fa-check"></i><b>3.6.2</b> Exploring the data using logical statements</a></li>
<li class="chapter" data-level="3.6.3" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-simple-statistics-and-summarize"><i class="fa fa-check"></i><b>3.6.3</b> Exploring the data using simple statistics and <code>summarize</code></a></li>
<li class="chapter" data-level="3.6.4" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-basic-plots-1"><i class="fa fa-check"></i><b>3.6.4</b> Exploring the data using basic plots #1</a></li>
<li class="chapter" data-level="3.6.5" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-basic-plots-2"><i class="fa fa-check"></i><b>3.6.5</b> Exploring the data using basic plots #2</a></li>
<li class="chapter" data-level="3.6.6" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-basic-plots-3"><i class="fa fa-check"></i><b>3.6.6</b> Exploring the data using basic plots #3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html"><i class="fa fa-check"></i><b>4</b> Reporting data results #1</a><ul>
<li class="chapter" data-level="4.1" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#guidelines-for-good-plots"><i class="fa fa-check"></i><b>4.1</b> Guidelines for good plots</a></li>
<li class="chapter" data-level="4.2" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#high-data-density"><i class="fa fa-check"></i><b>4.2</b> High data density</a></li>
<li class="chapter" data-level="4.3" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#meaningful-labels"><i class="fa fa-check"></i><b>4.3</b> Meaningful labels</a></li>
<li class="chapter" data-level="4.4" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#references"><i class="fa fa-check"></i><b>4.4</b> References</a></li>
<li class="chapter" data-level="4.5" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#highlighting"><i class="fa fa-check"></i><b>4.5</b> Highlighting</a></li>
<li class="chapter" data-level="4.6" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#order"><i class="fa fa-check"></i><b>4.6</b> Order</a></li>
<li class="chapter" data-level="4.7" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#small-multiples"><i class="fa fa-check"></i><b>4.7</b> Small multiples</a></li>
<li class="chapter" data-level="4.8" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#advanced-customization"><i class="fa fa-check"></i><b>4.8</b> Advanced customization</a><ul>
<li class="chapter" data-level="4.8.1" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#scales"><i class="fa fa-check"></i><b>4.8.1</b> Scales</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#to-find-out-more"><i class="fa fa-check"></i><b>4.9</b> To find out more</a></li>
<li class="chapter" data-level="4.10" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#in-course-exercise-3"><i class="fa fa-check"></i><b>4.10</b> In-course exercise</a><ul>
<li class="chapter" data-level="4.10.1" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#designing-a-plot"><i class="fa fa-check"></i><b>4.10.1</b> Designing a plot</a></li>
<li class="chapter" data-level="4.10.2" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#implementing-plot-guidelines-1"><i class="fa fa-check"></i><b>4.10.2</b> Implementing plot guidelines #1</a></li>
<li class="chapter" data-level="4.10.3" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#implementing-plot-guidelines-2"><i class="fa fa-check"></i><b>4.10.3</b> Implementing plot guidelines #2</a></li>
<li class="chapter" data-level="4.10.4" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#data-visualization-cheatsheet"><i class="fa fa-check"></i><b>4.10.4</b> Data visualization cheatsheet</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html"><i class="fa fa-check"></i><b>5</b> Reproducible research #1</a><ul>
<li class="chapter" data-level="5.1" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#what-is-reproducible-research"><i class="fa fa-check"></i><b>5.1</b> What is reproducible research?</a></li>
<li class="chapter" data-level="5.2" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#markdown"><i class="fa fa-check"></i><b>5.2</b> Markdown</a></li>
<li class="chapter" data-level="5.3" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#literate-programming-in-r"><i class="fa fa-check"></i><b>5.3</b> Literate programming in R</a></li>
<li class="chapter" data-level="5.4" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#style-guidelines"><i class="fa fa-check"></i><b>5.4</b> Style guidelines</a><ul>
<li class="chapter" data-level="5.4.1" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#line-length"><i class="fa fa-check"></i><b>5.4.1</b> Line length</a></li>
<li class="chapter" data-level="5.4.2" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#spacing"><i class="fa fa-check"></i><b>5.4.2</b> Spacing</a></li>
<li class="chapter" data-level="5.4.3" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#semicolons"><i class="fa fa-check"></i><b>5.4.3</b> Semicolons</a></li>
<li class="chapter" data-level="5.4.4" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#commenting"><i class="fa fa-check"></i><b>5.4.4</b> Commenting</a></li>
<li class="chapter" data-level="5.4.5" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#indentation"><i class="fa fa-check"></i><b>5.4.5</b> Indentation</a></li>
<li class="chapter" data-level="5.4.6" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#code-grouping"><i class="fa fa-check"></i><b>5.4.6</b> Code grouping</a></li>
<li class="chapter" data-level="5.4.7" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#broader-guidelines"><i class="fa fa-check"></i><b>5.4.7</b> Broader guidelines</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#more-with-knitr"><i class="fa fa-check"></i><b>5.5</b> More with knitr</a><ul>
<li class="chapter" data-level="5.5.1" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#equations-in-knitr"><i class="fa fa-check"></i><b>5.5.1</b> Equations in <code>knitr</code></a></li>
<li class="chapter" data-level="5.5.2" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#figures-from-file"><i class="fa fa-check"></i><b>5.5.2</b> Figures from file</a></li>
<li class="chapter" data-level="5.5.3" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#saving-graphics-files"><i class="fa fa-check"></i><b>5.5.3</b> Saving graphics files</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#saving-graphics-files-1"><i class="fa fa-check"></i><b>5.6</b> Saving graphics files</a><ul>
<li class="chapter" data-level="5.6.1" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#tables-in-r-markdown"><i class="fa fa-check"></i><b>5.6.1</b> Tables in R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#in-course-exercise-4"><i class="fa fa-check"></i><b>5.7</b> In-course exercise</a><ul>
<li class="chapter" data-level="5.7.1" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#creating-a-markdown-document"><i class="fa fa-check"></i><b>5.7.1</b> Creating a Markdown document</a></li>
<li class="chapter" data-level="5.7.2" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#adding-in-r-code"><i class="fa fa-check"></i><b>5.7.2</b> Adding in R code</a></li>
<li class="chapter" data-level="5.7.3" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#working-with-r-markdown-documents"><i class="fa fa-check"></i><b>5.7.3</b> Working with R Markdown documents</a></li>
<li class="chapter" data-level="5.7.4" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#r-style-guidelines"><i class="fa fa-check"></i><b>5.7.4</b> R style guidelines</a></li>
<li class="chapter" data-level="5.7.5" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#trying-out-knitr-with-your-own-data"><i class="fa fa-check"></i><b>5.7.5</b> Trying out <code>knitr</code> with your own data</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Part III: Intermediate</b></span></li>
<li class="chapter" data-level="6" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html"><i class="fa fa-check"></i><b>6</b> Entering and cleaning data #2</a><ul>
<li class="chapter" data-level="6.1" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#joining-datasets"><i class="fa fa-check"></i><b>6.1</b> Joining datasets</a></li>
<li class="chapter" data-level="6.2" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#tidy-data"><i class="fa fa-check"></i><b>6.2</b> Tidy data</a></li>
<li class="chapter" data-level="6.3" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#gathering"><i class="fa fa-check"></i><b>6.3</b> Gathering</a></li>
<li class="chapter" data-level="6.4" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#in-course-exercise-5"><i class="fa fa-check"></i><b>6.4</b> In-course exercise</a><ul>
<li class="chapter" data-level="6.4.1" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#designing-tidy-data"><i class="fa fa-check"></i><b>6.4.1</b> Designing tidy data</a></li>
<li class="chapter" data-level="6.4.2" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#easier-data-wrangling"><i class="fa fa-check"></i><b>6.4.2</b> Easier data wrangling</a></li>
<li class="chapter" data-level="6.4.3" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#more-extensive-data-wrangling"><i class="fa fa-check"></i><b>6.4.3</b> More extensive data wrangling</a></li>
<li class="chapter" data-level="6.4.4" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#tidying-vadeaths-data"><i class="fa fa-check"></i><b>6.4.4</b> Tidying <code>VADeaths</code> data</a></li>
<li class="chapter" data-level="6.4.5" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#exploring-fatality-analysis-reporting-system-fars-data"><i class="fa fa-check"></i><b>6.4.5</b> Exploring Fatality Analysis Reporting System (FARS) data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="exploring-data-2.html"><a href="exploring-data-2.html"><i class="fa fa-check"></i><b>7</b> Exploring data #2</a><ul>
<li class="chapter" data-level="7.1" data-path="exploring-data-2.html"><a href="exploring-data-2.html#parentheses"><i class="fa fa-check"></i><b>7.1</b> Parentheses</a></li>
<li class="chapter" data-level="7.2" data-path="exploring-data-2.html"><a href="exploring-data-2.html#loops"><i class="fa fa-check"></i><b>7.2</b> Loops</a></li>
<li class="chapter" data-level="7.3" data-path="exploring-data-2.html"><a href="exploring-data-2.html#other-control-structures"><i class="fa fa-check"></i><b>7.3</b> Other control structures</a><ul>
<li class="chapter" data-level="7.3.1" data-path="exploring-data-2.html"><a href="exploring-data-2.html#if-else-loops"><i class="fa fa-check"></i><b>7.3.1</b> if / else loops</a></li>
<li class="chapter" data-level="7.3.2" data-path="exploring-data-2.html"><a href="exploring-data-2.html#some-other-control-structures"><i class="fa fa-check"></i><b>7.3.2</b> Some other control structures</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="exploring-data-2.html"><a href="exploring-data-2.html#functions"><i class="fa fa-check"></i><b>7.4</b> Functions</a></li>
<li class="chapter" data-level="7.5" data-path="exploring-data-2.html"><a href="exploring-data-2.html#regular-expressions"><i class="fa fa-check"></i><b>7.5</b> Regular expressions</a></li>
<li class="chapter" data-level="7.6" data-path="exploring-data-2.html"><a href="exploring-data-2.html#in-course-exercise-6"><i class="fa fa-check"></i><b>7.6</b> In-course exercise</a><ul>
<li class="chapter" data-level="7.6.1" data-path="exploring-data-2.html"><a href="exploring-data-2.html#using-regression-models-to-explore-data-1"><i class="fa fa-check"></i><b>7.6.1</b> Using regression models to explore data #1</a></li>
<li class="chapter" data-level="7.6.2" data-path="exploring-data-2.html"><a href="exploring-data-2.html#using-regression-models-to-explore-data-2"><i class="fa fa-check"></i><b>7.6.2</b> Using regression models to explore data #2</a></li>
<li class="chapter" data-level="7.6.3" data-path="exploring-data-2.html"><a href="exploring-data-2.html#exploring-fatality-analysis-reporting-system-fars-data-1"><i class="fa fa-check"></i><b>7.6.3</b> Exploring Fatality Analysis Reporting System (FARS) data</a></li>
<li class="chapter" data-level="7.6.4" data-path="exploring-data-2.html"><a href="exploring-data-2.html#using-a-function-and-purrr-to-create-state-specific-plots"><i class="fa fa-check"></i><b>7.6.4</b> Using a function and <code>purrr</code> to create state-specific plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html"><i class="fa fa-check"></i><b>8</b> Reporting data results #2</a><ul>
<li class="chapter" data-level="8.1" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#matrices-and-lists"><i class="fa fa-check"></i><b>8.1</b> Matrices and lists</a><ul>
<li class="chapter" data-level="8.1.1" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#matrices"><i class="fa fa-check"></i><b>8.1.1</b> Matrices</a></li>
<li class="chapter" data-level="8.1.2" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#lists"><i class="fa fa-check"></i><b>8.1.2</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#apply-functions"><i class="fa fa-check"></i><b>8.2</b> <code>apply</code> functions</a></li>
<li class="chapter" data-level="8.3" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#point-maps"><i class="fa fa-check"></i><b>8.3</b> Point maps</a></li>
<li class="chapter" data-level="8.4" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#choropleth-maps"><i class="fa fa-check"></i><b>8.4</b> Choropleth maps</a></li>
<li class="chapter" data-level="8.5" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#google-maps-api"><i class="fa fa-check"></i><b>8.5</b> Google Maps API</a></li>
<li class="chapter" data-level="8.6" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#string-operations"><i class="fa fa-check"></i><b>8.6</b> String operations</a></li>
<li class="chapter" data-level="8.7" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#in-course-exercise-7"><i class="fa fa-check"></i><b>8.7</b> In-course exercise</a><ul>
<li class="chapter" data-level="8.7.1" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#using-a-function-and-purrr-to-create-state-specific-plots-1"><i class="fa fa-check"></i><b>8.7.1</b> Using a function and <code>purrr</code> to create state-specific plots</a></li>
<li class="chapter" data-level="8.7.2" data-path="reporting-data-results-2.html"><a href="reporting-data-results-2.html#first-steps-in-mapping"><i class="fa fa-check"></i><b>8.7.2</b> First steps in mapping</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Part IV: Advanced</b></span></li>
<li class="chapter" data-level="9" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html"><i class="fa fa-check"></i><b>9</b> Entering and cleaning data #3</a><ul>
<li class="chapter" data-level="9.1" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#cleaning-very-messy-data"><i class="fa fa-check"></i><b>9.1</b> Cleaning very messy data</a><ul>
<li class="chapter" data-level="9.1.1" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#example-of-messy-data"><i class="fa fa-check"></i><b>9.1.1</b> Example of messy data</a></li>
<li class="chapter" data-level="9.1.2" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#strategy-for-messy-data"><i class="fa fa-check"></i><b>9.1.2</b> Strategy for messy data</a></li>
<li class="chapter" data-level="9.1.3" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#readlines-function"><i class="fa fa-check"></i><b>9.1.3</b> <code>readLines</code> function</a></li>
<li class="chapter" data-level="9.1.4" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#regular-expressions-for-cleaning"><i class="fa fa-check"></i><b>9.1.4</b> Regular expressions for cleaning</a></li>
<li class="chapter" data-level="9.1.5" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#working-with-lists"><i class="fa fa-check"></i><b>9.1.5</b> Working with lists</a></li>
<li class="chapter" data-level="9.1.6" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#converting-to-dataframes"><i class="fa fa-check"></i><b>9.1.6</b> Converting to dataframes</a></li>
<li class="chapter" data-level="9.1.7" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#exploring-the-hurricane-tracking-data"><i class="fa fa-check"></i><b>9.1.7</b> Exploring the hurricane tracking data</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#pulling-online-data"><i class="fa fa-check"></i><b>9.2</b> Pulling online data</a><ul>
<li class="chapter" data-level="9.2.1" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#apis"><i class="fa fa-check"></i><b>9.2.1</b> APIs</a></li>
<li class="chapter" data-level="9.2.2" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#example-riem-package"><i class="fa fa-check"></i><b>9.2.2</b> Example– <code>riem</code> package</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#example-r-api-wrappers"><i class="fa fa-check"></i><b>9.3</b> Example R API wrappers</a><ul>
<li class="chapter" data-level="9.3.1" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#ropensci"><i class="fa fa-check"></i><b>9.3.1</b> rOpenSci</a></li>
<li class="chapter" data-level="9.3.2" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#countyweather"><i class="fa fa-check"></i><b>9.3.2</b> <code>countyweather</code></a></li>
<li class="chapter" data-level="9.3.3" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#usgs-r-packages"><i class="fa fa-check"></i><b>9.3.3</b> USGS-R Packages</a></li>
<li class="chapter" data-level="9.3.4" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#u.s.-census-packages"><i class="fa fa-check"></i><b>9.3.4</b> U.S. Census packages</a></li>
<li class="chapter" data-level="9.3.5" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#other-r-api-wrappers"><i class="fa fa-check"></i><b>9.3.5</b> Other R API wrappers</a></li>
<li class="chapter" data-level="9.3.6" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#r-and-apis"><i class="fa fa-check"></i><b>9.3.6</b> R and APIs</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#parsing-webpages"><i class="fa fa-check"></i><b>9.4</b> Parsing webpages</a><ul>
<li class="chapter" data-level="9.4.1" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#rvest"><i class="fa fa-check"></i><b>9.4.1</b> <code>rvest</code></a></li>
<li class="chapter" data-level="9.4.2" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#scraping-multiple-pages"><i class="fa fa-check"></i><b>9.4.2</b> Scraping multiple pages</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html"><i class="fa fa-check"></i><b>A</b> Appendix A: Vocabulary</a><ul>
<li class="chapter" data-level="A.1" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-1"><i class="fa fa-check"></i><b>A.1</b> Quiz 1</a></li>
<li class="chapter" data-level="A.2" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-2"><i class="fa fa-check"></i><b>A.2</b> Quiz 2</a></li>
<li class="chapter" data-level="A.3" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-3"><i class="fa fa-check"></i><b>A.3</b> Quiz 3</a></li>
<li class="chapter" data-level="A.4" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-4"><i class="fa fa-check"></i><b>A.4</b> Quiz 4</a></li>
<li class="chapter" data-level="A.5" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-5"><i class="fa fa-check"></i><b>A.5</b> Quiz 5</a></li>
<li class="chapter" data-level="A.6" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-6"><i class="fa fa-check"></i><b>A.6</b> Quiz 6</a></li>
<li class="chapter" data-level="A.7" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-7"><i class="fa fa-check"></i><b>A.7</b> Quiz 7</a></li>
<li class="chapter" data-level="A.8" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-8"><i class="fa fa-check"></i><b>A.8</b> Quiz 8</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html"><i class="fa fa-check"></i><b>B</b> Appendix B: Homework</a><ul>
<li class="chapter" data-level="B.1" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-1"><i class="fa fa-check"></i><b>B.1</b> Homework #1</a><ul>
<li class="chapter" data-level="B.1.1" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#option-1"><i class="fa fa-check"></i><b>B.1.1</b> Option 1</a></li>
<li class="chapter" data-level="B.1.2" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#option-2"><i class="fa fa-check"></i><b>B.1.2</b> Option 2</a></li>
<li class="chapter" data-level="B.1.3" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#special-swirl-commands"><i class="fa fa-check"></i><b>B.1.3</b> Special swirl commands</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-2"><i class="fa fa-check"></i><b>B.2</b> Homework #2</a></li>
<li class="chapter" data-level="B.3" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-3"><i class="fa fa-check"></i><b>B.3</b> Homework #3</a></li>
<li class="chapter" data-level="B.4" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-4"><i class="fa fa-check"></i><b>B.4</b> Homework #4</a></li>
<li class="chapter" data-level="B.5" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-5"><i class="fa fa-check"></i><b>B.5</b> Homework #5</a></li>
<li class="chapter" data-level="B.6" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-6"><i class="fa fa-check"></i><b>B.6</b> Homework #6</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Programming for Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-preliminaries" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> R Preliminaries</h1>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week1.pdf">Download</a> a pdf of the lecture slides covering this topic.</p>
<div id="r-and-r-studio" class="section level2">
<h2><span class="header-section-number">1.1</span> R and R Studio</h2>
<div class="rmdtip">
<p>
One of the strengths of R is that many different programmers have developed and shared their own extensions of R, called “packages”. We’ll talk a lot more about packages later in this section, but we wanted to introduce one here. The <code>fortunes</code> package allows you to read some notable quotes about R. These quotes are often by leaders in the R community, and they were often originally from R help listservs. We’ll use this package throughout the book to add in some of the R “fortunes” as topics they cover come up.
</p>
</div>
<div id="what-is-r" class="section level3">
<h3><span class="header-section-number">1.1.1</span> What is R?</h3>
<p>R in an open-source programming language that evolved from the S language. The S language was developed at Bell Labs in the 1970s, which is the same place (and about the same time) that the C programming language was developed.</p>
<p>R itself was developed in the 1990s–2000s at the University of Auckland. It is open-source software, freely and openly distributed under the GNU General Public License (GPL). The base version of R that you download when you install R on your computer includes the critical code for running R, but you can also install and run “packages” that people all over the world have developed to extend R.</p>
<p>With new developments, R is becoming more and more useful for a variety of programming tasks. However, where it really shines is in working with data and doing statistical analysis. R is currently popular in a number of fields, including:</p>
<ul>
<li>Statistics</li>
<li>Machine learning</li>
<li>Data journalism / data analysis</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fortune</span>(<span class="st">&quot;good data analyst&quot;</span>)</code></pre></div>
<pre><code>## 
## Can one be a good data analyst without being a half-good programmer? The
## short answer to that is, &#39;No.&#39; The long answer to that is, &#39;No.&#39;
##    -- Frank Harrell
##       1999 S-PLUS User Conference, New Orleans (October 1999)</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fortune</span>(<span class="st">&quot;most widely used piece of software for statistics&quot;</span>)</code></pre></div>
<pre><code>## 
## Let&#39;s not kid ourselves: the most widely used piece of software for
## statistics is Excel.
##    -- Brian D. Ripley (&#39;Statistical Methods Need Software: A View of
##       Statistical Computing&#39;)
##       Opening lecture RSS 2002, Plymouth (September 2002)</code></pre>
<p>R has some of the same strengths (quick and easy to code, interfaces well with other languages, easy to work interactively) and weaknesses (slower than compiled languages) as Python. For data-related tasks, R and Python are fairly neck-and-neck. However, R is still the first choice of statisticians in most fields, so I would argue that R has a an advantage if you want to have access to cutting-edge statistical methods.</p>
<blockquote>
<p>“The best thing about R is that it was developed by statisticians. The worst thing about R is that… it was developed by statisticians.” -Bo Cowgill, Google, at the Bay Area R Users Group</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fortune</span>(<span class="st">&quot;show it&#39;s as good as the others&quot;</span>)</code></pre></div>
<pre><code>## 
## Rene M. Raupp: Does anybody know any work comparing R with other (charged)
## statistical software (like Minitab, SPSS, SAS)? [...] I have to show it&#39;s
## as good as the others.
## Kjetil Brinchmann Halvorsen: Sorry. That will be difficult. Couldn&#39;t it do
## to prove it is better?
##    -- Rene M. Raupp and Kjetil Brinchmann Halvorsen
##       R-help (May 2005)</code></pre>
</div>
<div id="open-source-software" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Open-source software</h3>
<blockquote>
<p>“Life is too short to run proprietary software.” – Bdale Garbee</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fortune</span>(<span class="st">&quot;the price&quot;</span>)</code></pre></div>
<pre><code>## 
## It [the effort of learning how to use R] is the price paid, just as the
## dollars or euros for a commercial package would be. For that price, I&#39;ve
## learnt a great deal - and not only about R. And I shall remember it when I
## next have to find a heavyweight solution for a big problem presented by a
## small charitable client with an invisible budget. It&#39;s a huge,
## awe-inspiring package - easier to perceive as such because the power is
## not hidden beneath a cosmetic veneer.
##    -- Felix Grant (in an article about free statistics software)
##       Scientific Computing World (November 2004)</code></pre>
<p>R is open-source software. Many other popular statistical programming languages, conversely, are proprietary. It’s useful to know what it means for software to be “open-source”, both conceptually and in terms of how you will be able to use and add to R in your own work.</p>
<p>R is free, and it’s tempting to think of open-source software just as “free software”. Things, however, are a little more subtle than that. It helps to consider some different meanings of the word “free”. “Free” can mean:</p>
<ul>
<li><em>Gratis</em>: Free as in beer</li>
<li><em>Libre</em>: Free as in speech</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:open-source-overview"></span>
<img src="figures/OpenSourceOverview.png" alt="An overview of how software can be each type of free (beer and speech). For software programs developed using a compiled programming language, the final product that you open on your computer is run by machine-readable binary code. A developer can give you this code for free (as in beer) without sharing any of the original source code with you. This means you can't dig in to figure out how the software works and how you can extend it. By contrast, open-source software (free as in speech) is software for which you have access to the human-readable code that was used as in input in creating the software binaries. With open-source code, you can figure out exactly how the program is coded." width="400pt" />
<p class="caption">
Figure 1.1: An overview of how software can be each type of free (beer and speech). For software programs developed using a compiled programming language, the final product that you open on your computer is run by machine-readable binary code. A developer can give you this code for free (as in beer) without sharing any of the original source code with you. This means you can’t dig in to figure out how the software works and how you can extend it. By contrast, open-source software (free as in speech) is software for which you have access to the human-readable code that was used as in input in creating the software binaries. With open-source code, you can figure out exactly how the program is coded.
</p>
</div>
<p>Open-source software software is the <em>libre</em> type of free (Figure <a href="r-preliminaries.html#fig:open-source-overview">1.1</a>). This means that, with software that is open-source, you can:</p>
<ul>
<li>Access all of the code that makes up the software</li>
<li>Change the code as you’d like for your own applications</li>
<li>Build on the code with your own extensions</li>
<li>Share the software and its code, as well as your extensions, with others</li>
</ul>
<p>Popular open source languages for R and R packages include GPL and MIT.</p>
<blockquote>
<p>“Making Linux GPL’d was definitely the best thing I ever did.” – Linus Torvalds</p>
</blockquote>
<p>In practice, this means that, once you are familiar with the software, you can dig deeply into the code to figure out exactly how it’s performing certain tasks. This can be useful for finding bugs and eliminating bugs, and also can help researchers figure out if there are any limitations in how the code works for their specific research.</p>
<p>It also means that you can build your own software on top of existing R software and its extensions. I explain a bit more about R packages a bit later, but this open-source nature of R (and other languages, including Python) has created a large community of people worldwide who develop and share extensions to R. As a result, you can pull in packages that let you do all kinds of things in R, like visualizing Tweets, cleaning up accelerometer data, analyzing complex surveys, fitting maching learning models, and a wealth of other cool things.</p>
<blockquote>
<p>“Despite its name, open-source software is less vulnerable to hacking than the secret, black box systems like those being used in polling places now. That’s because anyone can see how open-source systems operate. Bugs can be spotted and remedied, deterring those who would attempt attacks. This makes them much more secure than closed-source models like Microsoft’s, which only Microsoft employees can get into to fix.” – <a href="https://www.nytimes.com/2017/08/03/opinion/open-source-software-hacker-voting.html?mcubz=3">Woolsey and Fox. <em>To Protect Voting, Use Open-Source Software.</em> New York Times. August 3, 2017.</a></p>
</blockquote>
<p>You can download the latest version of R from <a href="https://cran.r-project.org">CRAN</a>. Be sure to select the distribution for your type of computer system. R is updated occasionally; you should plan to re-install R at least once a year, to make sure you’re working with one of the newer versions. Check your current R version (one way is by running <code>sessionInfo()</code> at the R console) to make sure you’re not using an outdated version of R. Defaults should be fine for everything.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fortune</span>(<span class="st">&quot;how do you know that the results are trustable?&quot;</span>)</code></pre></div>
<pre><code>## 
## Mingzhai Sun: When you use it [R], since it is written by so many authors,
## how do you know that the results are trustable?
## Bill Venables: The R engine [...] is pretty well uniformly excellent code
## but you have to take my word for that. Actually, you don&#39;t. The whole
## engine is open source so, if you wish, you can check every line of it. If
## people were out to push dodgy software, this is not the way they&#39;d go
## about it.
##    -- Mingzhai Sun and Bill Venables
##       R-help (January 2004)</code></pre>
<blockquote>
<p>“Talk is cheap. Show me the code.” - Linus Torvalds</p>
</blockquote>
</div>
<div id="what-is-rstudio" class="section level3">
<h3><span class="header-section-number">1.1.3</span> What is RStudio?</h3>
<p>To get the R software, you’ll <a href="https://www.r-project.org">download R</a> from the R Project for Statistical Computing. This is enough for you to use R on your own computer. However, I would suggest one additional, free piece of software to improve your experience while working with R, RStudio.</p>
<p>RStudio is an integrated development environment (IDE) for R. This basically means that it provides you an interface for running R and coding in R, with a lot of nice extras that will make your life easier.</p>
<p>You download RStudio separately from R– you’ll want to download and install R itself first, and then you can <a href="https://www.rstudio.com/products/rstudio/download2/">download RStudio</a>. You want the Desktop version with the free license. Defaults should be fine for everything.</p>
<p>The company that develops this IDE is a fantastic contributer to the global R community. RStudio currently:</p>
<p>RStudio (the company) is a leader in the R community. Currently, the company:</p>
<ul>
<li>Develops and freely provides the RStudio IDE</li>
<li>Provides excellent resources for learning and using R (e.g., cheatsheets, free online books)</li>
<li>Is producing some of the most-used R packages</li>
<li>Employs some of the top people in R development</li>
<li>Is a key member of The R Consortium (others include Microsoft, IBM, and Google)</li>
</ul>
<p>R has been advancing by leaps in bounds in terms of what it can do and the elegance with which it does it, in large part because of the enormous contributions of people involved with RStudio.</p>
</div>
</div>
<div id="the-package-system" class="section level2">
<h2><span class="header-section-number">1.2</span> The “package” system</h2>
<div id="r-packages" class="section level3">
<h3><span class="header-section-number">1.2.1</span> R packages</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fortune</span>(<span class="st">&quot;Take that, SAS!&quot;</span>)</code></pre></div>
<pre><code>## 
## Any doubts about R&#39;s big-league status should be put to rest, now that we
## have a Sudoku Puzzle Solver. Take that, SAS!
##    -- David Brahm (announcing the sudoku package)
##       R-packages (January 2006)</code></pre>
<p>Your original download of R is only a starting point. You can expand functionality of R with . To me, this is a bit like the toy train set that my son was obsessed with for a while. You first buy a very basic set that looks something like Figure <a href="r-preliminaries.html#fig:toy-train-basic">1.2</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:toy-train-basic"></span>
<img src="figures/TrainBasic.JPG" alt="The toy version of base R." width="400pt" />
<p class="caption">
Figure 1.2: The toy version of base R.
</p>
</div>
<p>To take full advantage of R, you’ll want to add on packages. In the case of the train set, at this point, a doting grandparent adds on extensively through birthday presents, so you end up with something that looks like Figure <a href="r-preliminaries.html#fig:toy-train-fancy">1.3</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:toy-train-fancy"></span>
<img src="figures/TrainComplex.JPG" alt="The toy version of what your R set-up will look like once you find cool packages to use for your research." width="400pt" />
<p class="caption">
Figure 1.3: The toy version of what your R set-up will look like once you find cool packages to use for your research.
</p>
</div>
<p>Each package is basically a bundle of extra R functions. You can get these “add-on” packages in a number of ways. The main source for installing packages for R remains the Comprehensive R Archive Network, or <a href="https://cran.r-project.org">CRAN</a>. However, <a href="https://github.com">GitHub</a> is growing in popularity, especially for packages that are still in development. You can also create and share packages among your collaborators or co-workers, without ever posting them publicly. In the “Advanced” section of this course, you will learn how to write your own R package.</p>
</div>
<div id="installing-from-cran" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Installing from CRAN</h3>
<p>The most popular place from which to get packages is currently CRAN, which has over 10,000 R packages available. You can install packages from CRAN using R code, with the <code>install.packages</code> function. For example, telephone keypads include letters for each number (Figure <a href="r-preliminaries.html#fig:phone-keypad">1.4</a>), which allow companies to have “named” phone numbers that are easier for people to remember, like 1-800-GO-FEDEX and 1-800-FLOWERS.</p>
<div class="figure" style="text-align: center"><span id="fig:phone-keypad"></span>
<img src="figures/telephone_keypad.png" alt="Telephone keypad with letters corresponding to each number." width="150pt" />
<p class="caption">
Figure 1.4: Telephone keypad with letters corresponding to each number.
</p>
</div>
<p>The <code>phonenumber</code> package is a cool little package that will convert between numbers and letters based on the telephone keypad. Since this package is on CRAN, you can install the package to your computer using the <code>install.packages</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;phonenumber&quot;</span>)</code></pre></div>
<p>This downloads the package from CRAN and saves it in a special location on your computer where R can load it when you’re ready to use it.</p>
<p>Just like R itself, packages often evolve and are updated by their maintainers. You should update your packages as new versions come out. Typically, you have to reinstall packages when you update your version of R, so this is a good chance to get the most up-to-date version of the packages you use.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fortune</span>(<span class="st">&quot;pizza&quot;</span>)</code></pre></div>
<pre><code>## 
## Roger D. Peng: I don&#39;t think anyone actually believes that R is designed
## to make *everyone* happy. For me, R does about 99% of the things I need to
## do, but sadly, when I need to order a pizza, I still have to pick up the
## telephone.
## Douglas Bates: There are several chains of pizzerias in the U.S. that
## provide for Internet-based ordering (e.g. www.papajohnsonline.com) so,
## with the Internet modules in R, it&#39;s only a matter of time before you will
## have a pizza-ordering function available.
## Brian D. Ripley: Indeed, the GraphApp toolkit (used for the RGui interface
## under R for Windows, but Guido forgot to include it) provides one (for use
## in Sydney, Australia, we presume as that is where the GraphApp author
## hails from). Alternatively, a Padovian has no need of ordering pizzas with
## both home and neighbourhood restaurants ....
##    -- Roger D. Peng, Douglas Bates, and Brian D. Ripley
##       R-help (June 2004)</code></pre>
</div>
<div id="loading-an-installed-package" class="section level3">
<h3><span class="header-section-number">1.2.3</span> Loading an installed package</h3>
<p>When you open RStudio, unless you reload the history of a previous R session (which we typically <strong>do not</strong> recommend), you will start your work in a “fresh” R session. This means that, once you open RStudio, you will need to run the code to load any packages, define any objects, and read in any data that you will need for analysis in that session.</p>
<p>Once you have installed a package, it will be saved to your computer. However, you won’t be able to access its functions within an R session until you load it in that R session. Loading a package essentially makes all of the package’s functions available to you. You can load a package in an R session using the <code>library</code> function, with the package name inside the parentheses.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(phonenumber)</code></pre></div>
<div class="rmdtip">
<p>
One thing that people often find confusing when they start using R is knowing when to use and not use quotation marks. The general rule is that you use quotation marks when you want to refer to a character string literally, but no quotation marks when you want to refer to the value in a previously-defined object. For example, if you saved the string <code>“Anderson”</code> as the object <code>my_name</code> (<code>my_name &lt;- “Anderson”</code>), then in later code, if you type <code>my_name</code> (no quotation marks), you’ll get <code>“Anderson”</code>, while if you type out <code>“my_name”</code> (with quotation marks), you’ll get <code>“my_name”</code> (what you typed, literally).
</p>
<p>
One thing that makes this rule confusing is that there are a few cases in R where you really should (by this rule) use quotation marks, but the function is coded to let you be lazy and get away without them. One example is the <code>library</code> function. In the above code, you want to literally load the package “phonenumber”, rather than load whatever character string is saved in the object named <code>phonenumber</code>. However, <code>library</code> is one of the functions where you can be lazy and skip the quotation marks, and it will still load “phonenumber” for you (although, if you want, this function also works if you follow the rule and call <code>library(“phonenumber”)</code> instead).
</p>
</div>
<p>Once a package is loaded, you can use all its exported (i.e., public) functions by calling them directly. For example, the <code>phonenumber</code> has a function called <code>letterToNumber</code> that converts a character string to a number. If you have not loaded the <code>phonenumber</code> package in your current R session and try to use this function, you will get an error. However, once you’ve loaded <code>phonenumber</code> using the <code>library</code> function, you can use this function in your R session:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fedex_number &lt;-<span class="st"> &quot;GoFedEx&quot;</span>
<span class="kw">letterToNumber</span>(fedex_number)</code></pre></div>
<pre><code>## [1] &quot;4633339&quot;</code></pre>
<div class="rmdnote">
<p>
R vectors can have several different <em>classes</em>. One common class is the character class, which is the class of the character string we’re using here (“GoFedEx”). You’ll always put character strings in quotation marks. Another key class is numeric (numbers). Later in the course, we’ll introduce other classes that vectors can have, including factors and dates.
</p>
</div>
<p>If you are using a package in academic research, you should cite it, especially if it implements an algorithm or method that is not standard. You can use the <code>citation</code> function to get the information you need about how to cite a package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">citation</span>(<span class="st">&quot;phonenumber&quot;</span>)</code></pre></div>
<pre><code>## 
## To cite package &#39;phonenumber&#39; in publications use:
## 
##   Steve Myles (2015). phonenumber: Convert Letters to Numbers and
##   Back as on a Telephone Keypad. R package version 0.2.2.
##   https://CRAN.R-project.org/package=phonenumber
## 
## A BibTeX entry for LaTeX users is
## 
##   @Manual{,
##     title = {phonenumber: Convert Letters to Numbers and Back as on a Telephone Keypad},
##     author = {Steve Myles},
##     year = {2015},
##     note = {R package version 0.2.2},
##     url = {https://CRAN.R-project.org/package=phonenumber},
##   }</code></pre>
<div class="rmdnote">
<p>
We’ve talked here about loading packages using the <code>library</code> function to access their functions. However, this is not the only way to access the package’s functions. The syntax <code>[package name]::[function name]</code> (e.g., <code>phonenumber::letterToNumber(fedex)</code>) will allow you to use a function from a package you have installed on your computer, even if its package has not been loaded in the current R session. Typically, this syntax is not used much in data analysis scripts, in part because it makes the code much longer. However, you will occassionally see it used to distinguish between two functions from different packages that have the same name, as this format makes the desired function unambiguous. One example where this syntax often is needed is when both <code>plyr</code> and <code>dplyr</code> packages are loaded in an R session, since these share functions with the same name.
</p>
</div>
</div>
</div>
<div id="basic-code-conventions-of-r" class="section level2">
<h2><span class="header-section-number">1.3</span> Basic code conventions of R</h2>
<div id="rs-mvp-the-gets-arrow" class="section level3">
<h3><span class="header-section-number">1.3.1</span> R’s MVP: The <em>gets arrow</em></h3>
<p>The <em>gets arrow</em>, <code>&lt;-</code>, is R’s assignment operator. It takes whatever you’ve created on the right hand side of the <code>&lt;-</code> and saves it as an object with the name you put on the left hand side of the <code>&lt;-</code>. The basic structure of a call with a gets arrow looks like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Note: Generic code
[name of object] &lt;-<span class="st"> </span>[thing I want to save]</code></pre></div>
<div class="rmdwarning">
<p>
Sometimes, we’ll show “generic” code in a code block, that doesn’t actually work if you put it in R, but instead shows the generic structure of an R call. We’ll try to always include a comment with any generic code, so you’ll know not to try to run it in R.
</p>
</div>
<p>In R, objects are the way to save something to use again later in your code. If you do not assign something to an object with the gets arrow, R will just print it back out to you at the console. For example, if I just type <code>&quot;GoFedEx&quot;</code> at the R console, R will print that string back to me, but won’t save it anywhere for me to use later:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;GoFedEx&quot;</span></code></pre></div>
<pre><code>## [1] &quot;GoFedEx&quot;</code></pre>
<p>However, if I assign <code>&quot;GoFedEx&quot;</code> to an object using a gets arrow, I can print it out or use it later by typing (“referencing”) that object name:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fedex_number &lt;-<span class="st"> &quot;GoFedEx&quot;</span>
fedex_number</code></pre></div>
<pre><code>## [1] &quot;GoFedEx&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">letterToNumber</span>(fedex_number)</code></pre></div>
<pre><code>## [1] &quot;4633339&quot;</code></pre>
<p>You can assign the output of a function call directly to an object. For example, if you wanted to save the output of the <code>letterToNumber</code> call in the above code to its own object, you could do that with the call:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fedex_actual_number &lt;-<span class="st"> </span><span class="kw">letterToNumber</span>(fedex_number)
fedex_actual_number</code></pre></div>
<pre><code>## [1] &quot;4633339&quot;</code></pre>
<p>If you give two objects the same name, the most recent definition will be used (i.e., objects can be overwritten by assigning new content to the same object name). For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
b &lt;-<span class="st"> </span>LETTERS [<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]

a</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b</code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span>b
a</code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</code></pre>
<p>If you would like to see all the R objects that are currently defined in your R session, you can do that with the <code>ls</code> command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ls</span>()</code></pre></div>
<pre><code>## [1] &quot;a&quot;                   &quot;b&quot;                   &quot;fedex_actual_number&quot;
## [4] &quot;fedex_number&quot;</code></pre>
<p>If you want to see the contents of an object, just print its name. For example, to see what we have stored in the <code>fedex_number</code> object, you can run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fedex_number</code></pre></div>
<pre><code>## [1] &quot;GoFedEx&quot;</code></pre>
<p>In R, at heart everything is an object, so this printing even works for things like functions. For example, to see the source code with which the <code>letterToNumber</code> function is defined, you can run (notice the lack of parentheses):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">letterToNumber</code></pre></div>
<pre><code>## function (value, qz = 1) 
## {
##     value &lt;- as.character(value)
##     value &lt;- gsub(&quot;[^A-Za-z0-9]&quot;, &quot;-&quot;, value)
##     value &lt;- toupper(value)
##     valueSplit &lt;- strsplit(value, &quot;&quot;)[[1]]
##     numString &lt;- as.character()
##     mapphone &lt;- function(char) {
##         if (qz == 0 &amp;&amp; (char == LETTERS[17] | char == LETTERS[26])) {
##             &quot;0&quot;
##         }
##         else {
##             ifelse(is.element(char, LETTERS[1:3]), &quot;2&quot;, ifelse(is.element(char, 
##                 LETTERS[4:6]), &quot;3&quot;, ifelse(is.element(char, LETTERS[7:9]), 
##                 &quot;4&quot;, ifelse(is.element(char, LETTERS[10:12]), 
##                   &quot;5&quot;, ifelse(is.element(char, LETTERS[13:15]), 
##                     &quot;6&quot;, ifelse(is.element(char, LETTERS[16:19]), 
##                       &quot;7&quot;, ifelse(is.element(char, LETTERS[20:22]), 
##                         &quot;8&quot;, ifelse(is.element(char, &quot;-&quot;) | suppressWarnings(!is.na(as.numeric(char))), 
##                           char, &quot;9&quot;))))))))
##         }
##     }
##     numString &lt;- lapply(valueSplit, mapphone)
##     return(paste0(numString, collapse = &quot;&quot;))
## }
## &lt;bytecode: 0x4295548&gt;
## &lt;environment: namespace:phonenumber&gt;</code></pre>
</div>
<div id="assignment-operator-wars---vs." class="section level3">
<h3><span class="header-section-number">1.3.2</span> Assignment operator wars: <code>&lt;-</code> vs. <code>=</code></h3>
<p>You can make assignments in R using either the gets arrow (<code>&lt;-</code>) or <code>=</code>. When you read other people’s code, you’ll see both. R gurus advise using <code>&lt;-</code> rather than <code>=</code> when coding in R, and as you move to doing more complex things, some subtle problems might crop up if you use <code>=</code>. I have heard from someone in the know that you can tell the age of a programmer by whether he or she uses the gets arrow or <code>=</code>, with <code>=</code> more common among the young and hip. For this course, however, I am asking you to code according to <a href="http://adv-r.had.co.nz/Style.html">Hadley Wickham’s R style guide</a>, which specifies using the gets arrow for assignment.</p>
<p>While you will be coding with the gets arrow exclusively in this course, it will be helpful for you to know that the two assignment arrows do pretty much the same thing:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">one_to_ten &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
one_to_ten</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">one_to_ten =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
one_to_ten</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>While the gets arrow takes two key strokes instead of one (like the equals sign), you can somewhat get around this limitation by using RStudio’s keyboard shortcut for the gets arrow. This shortcut is Alt + - on Windows and Option + - on Macs. To see a full list of RStudio keyboard shortcuts, go to the “Help” tab in RStudio and select “Keyboard Shortcuts”.</p>
</div>
<div id="naming-objects" class="section level3">
<h3><span class="header-section-number">1.3.3</span> Naming objects</h3>
<p>When you assign objects, you will need to choose names for them. This object name is what you will type later in your code to reference the object and use it in functions, figures, etc. For example, with the following code, I am assigning the character string “GoFedEx” to an object that I am naming <code>fedex_number</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fedex_number &lt;-<span class="st"> &quot;GoFedEx&quot;</span></code></pre></div>
<p>There are only two fixed rules for naming objects in R:</p>
<ul>
<li>Use only letters, numbers, and underscores</li>
<li>Don’t start with anything but a letter</li>
</ul>
<p>In addition to these fixed rules, there are also some guidelines for naming objects that you should adopt now, since they will make your life easier as you advance to writing more complex code in R. The following three guidelines for naming objects are from <a href="http://adv-r.had.co.nz/Style.html">Hadley Wickham’s R style guide</a>:</p>
<ul>
<li>Use lower case for variable names (<code>fedex_number</code>, not <code>FedExNumber</code>)</li>
<li>Use an underscore as a separator (<code>fedex_number</code>, not <code>fedex.number</code> or <code>fedexNumber</code>)</li>
<li>Avoid using names that are already defined in R (e.g., don’t name an object <code>mean</code>, because a function named <code>mean</code> already exists)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fortune</span>(<span class="st">&quot;call your matrix&quot;</span>)</code></pre></div>
<pre><code>## 
## Firstly, don&#39;t call your matrix &#39;matrix&#39;. Would you call your dog &#39;dog&#39;?
## Anyway, it might clash with the function &#39;matrix&#39;.
##    -- Barry Rowlingson
##       R-help (October 2004)</code></pre>
<p>Another good practice is to name objects after nouns (e.g., <code>fedex_number</code>) and later, when you start writing functions, name those after verbs (e.g., <code>call_fedex</code>). You’ll want your object names to be short enough that they don’t take forever to type as you’re coding, but not so short that you can’t remember what they stand for.</p>
<div class="rmdtip">
<p>
Sometimes, you’ll want to create an object that you won’t want to keep for very long. For example, you might want to create a small object to test some code, but you plan to not need the object again once you’ve done that. You may want to come up with some short, generic object names that you use for these kinds of objects, so that you’ll know that you can delete them without problems when you want to clean up your R session.
</p>
<p>
There are all kinds of traditions for these placeholder variable names in computer science. <code>foo</code> and <code>bar</code> are two popular choices, as are, evidently, <code>xyzzy</code>, <code>spam</code>, <code>ham</code>, and <code>norf</code>. There are different placeholder names in different languages: for example, <code>toto</code>, <code>truc</code>, and <code>azerty</code> (French); and <code>pippo</code>, <code>pluto</code>, <code>paperino</code> (Disney character names; Italian). See the Wikipedia page on <a href="https://en.wikipedia.org/wiki/Metasyntactic_variable">metasyntactic variables</a> to find out more.
</p>
</div>
</div>
</div>
<div id="rs-most-basic-object-types" class="section level2">
<h2><span class="header-section-number">1.4</span> R’s most basic object types</h2>
<p>An R <em>object</em> stores some type of data that you want to use later in your R code, without fully recreating it. The content of R objects can vary from very simple (the <code>&quot;GoFedEx&quot;</code> string in the example code above) to very complex objects with lots of elements (for example, a machine learning model).</p>
<p>There are a variety of different object types in R, shaped to fit different types of objects ranging from the simple to complex. In this section, we’ll start by describing two object types that you will use most often in basic data analysis, <strong>vectors</strong> (1-dimensional objects) and <strong>dataframes</strong> (2-dimensional objects).</p>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">1.4.1</span> Vectors</h3>
<p>To get an initial grasp of the <em>vector</em> object type in R, think of it as a 1-dimensional object, or a string of values. All values in a vector must be of the same class (i.e., all numbers, all characters, all dates). If you try to create a vector with elements from different classes (like “FedEx”, which is a character, and 3, a number), R will coerce all of the elements to the most generic class of any of the elements (i.e., “FedEx” and “3” will both become characters, since “3” can be changed to a character, but “FedEx” can’t be changed to a number).</p>
<p>To create a vector from different elements, you’ll use the concatenation function, <code>c</code> to join them together, with commas between the elements. For example, to create a vector with the first five elements of the Fibonacci sequence, you can run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fibonacci &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>)
fibonacci</code></pre></div>
<pre><code>## [1] 1 1 2 3 5</code></pre>
<p>Here is an example of creating a vector using elements with the character class instead of numbers (note the quotation marks used around each element for character strings):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">one_to_five &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;five&quot;</span>)
one_to_five</code></pre></div>
<pre><code>## [1] &quot;one&quot;   &quot;two&quot;   &quot;three&quot; &quot;four&quot;  &quot;five&quot;</code></pre>
<p>If you mix classes when you create the vector, R will coerce all the elements to most generic of the elements’ classes:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mixed_classes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="st">&quot;five&quot;</span>)
mixed_classes</code></pre></div>
<pre><code>## [1] &quot;1&quot;    &quot;3&quot;    &quot;five&quot;</code></pre>
<p>A vector’s <em>length</em> is the number of elements in the vector. You can use the <code>length</code> function to determine a vector’s length:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(mixed_classes)</code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Once you create an object, you will often want to reference the whole object in future code. However, there will be some times when you’ll want to reference just certain elements of the object (for example, the first three values). You can pull out certain values from a vector by using indexing with square brackets (<code>[...]</code>) to identify the locations of the elements you want to pull, with a numeric vector inside the brackets that lists the numbered positions of the elements you want to get:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fibonacci[<span class="dv">2</span>] <span class="co"># Get the second value</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fibonacci[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>)] <span class="co"># Get first and fifth values</span></code></pre></div>
<pre><code>## [1] 1 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fibonacci[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="co"># Get the first three values</span></code></pre></div>
<pre><code>## [1] 1 1 2</code></pre>
<p>You can also use logic to pull out some values of a vector. For example, you might only want to pull out even values from the <code>fibonacci</code> vector. We’ll cover using logical statements to index vectors later in the book.</p>
</div>
<div id="dataframes" class="section level3">
<h3><span class="header-section-number">1.4.2</span> Dataframes</h3>
<p>A dataframe is a 2-dimensional object, and is made of one or more vectors of the same length stuck together side-by-side. It is the closest R has to an Excel spreadsheet-type structure. You can create dataframes using the <code>data.frame</code> function. However, most often you will create a dataframe by reading in data from a file, using something like <code>read.csv</code>.</p>
<p>To create a dataframe using <code>data.frame</code>, in this case by sticking together vectors you already have saved as R objects, you can run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fibonacci_seq &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">num_in_seq =</span> one_to_five,
                            <span class="dt">fibonacci_num =</span> fibonacci)
fibonacci_seq</code></pre></div>
<pre><code>##   num_in_seq fibonacci_num
## 1        one             1
## 2        two             1
## 3      three             2
## 4       four             3
## 5       five             5</code></pre>
<p>Note that this call requires that the <code>one_to_five</code> and <code>fibonacci</code> vectors are the same length, although they don’t have to be (and in this case aren’t) the same class of objects (<code>one_to_five</code> is a character class, <code>fibonacci</code> is numeric).</p>
<p>You can also create a dataframe using <code>data.frame</code> even if you don’t have the vectors for the columns saved as objects. Instead, in this case, you can put the vector assignment directly within the <code>data.frame</code> call:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fibonacci_seq &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">num_in_seq =</span> <span class="kw">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>,
                                           <span class="st">&quot;four&quot;</span>, <span class="st">&quot;five&quot;</span>),
                            <span class="dt">fibonacci_num =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>))
fibonacci_seq</code></pre></div>
<pre><code>##   num_in_seq fibonacci_num
## 1        one             1
## 2        two             1
## 3      three             2
## 4       four             3
## 5       five             5</code></pre>
<div class="rmdnote">
<p>
You can put more than one function call in a single line of R code, as in this example (the <code>c</code> creates a vector, while the <code>data.frame</code> creates a dataframe, using the vectors created by the calls to <code>c</code>). When you use multiple functions within a single R call, R will evaluate starting from the inner-most parentheses out, much like the order of operations in a math equation with parentheses.
</p>
</div>
<p>The general format for using <code>data.frame</code> is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Note: Generic code
[name of object] &lt;-<span class="st"> </span><span class="kw">data.frame</span>([1st column name] =<span class="st"> </span>[1st column content],
                               [2nd column name] =<span class="st"> </span>[2nd column content])</code></pre></div>
<p>with an equals sign between the column name and column content for each column, and commas between each of the columns.</p>
<p>You can use square-bracket indexing (<code>[..., ...]</code>) for dataframes, too, but now they’ll have two dimensions (rows, then columns). Put the rows you want before the comma, the columns after. If you want all of something (e.g., all rows in the dataframe), leave the designated spot blank. Here are two examples of using square-bracket indexing to pull a subset of the <code>fibonacci_seq</code> dataframe we created above:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fibonacci_seq[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">2</span>] <span class="co"># First two rows, second column</span></code></pre></div>
<pre><code>## [1] 1 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fibonacci_seq[<span class="dv">5</span>, ] <span class="co"># Last row, all columns</span></code></pre></div>
<pre><code>##   num_in_seq fibonacci_num
## 5       five             5</code></pre>
<div class="rmdnote">
<p>
If you forget to put the comma in the indexing for a dataframe (e.g., <code>fibonacci_seq[1:2]</code>), you will index out the <em>columns</em> that fall at that position or positions. To avoid confusion, I suggest that you always use indexing with a comma when working with dataframes.
</p>
</div>
<p>So far, we’ve only shown how to create dataframes from scratch within an R session. Usually, however, you’ll create R dataframes instead by reading in data from an outside file using <code>read.csv</code> and related functions. For example, you might want to analyze data on all the guests that came on the <em>Daily Show</em>, <em>circa</em> Jon Stewart. If you have this data in a comma-separated (csv) file on your computer called “daily_show_guests.csv”, you can read it into your R session with the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">daily_show &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;daily_show_guests.csv&quot;</span>,
                       <span class="dt">header =</span> <span class="ot">TRUE</span>,
                       <span class="dt">skip =</span> <span class="dv">4</span>)</code></pre></div>
<p>In this code, the <code>read.csv</code> function is reading in the data from “daily_show_guests”, while the gets arrow (<code>&lt;-</code>) assigns that data to the object <code>daily_show</code>, which you can then reference in later code to explore and plot the data.</p>
<p>Once you’ve read in the data and saved the resulting dataframe as an object, you can use square-bracket indexing to look at the first two rows in the data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">daily_show[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, ]</code></pre></div>
<pre><code>##   YEAR GoogleKnowlege_Occupation    Show  Group  Raw_Guest_List
## 1 1999                     actor 1/11/99 Acting  Michael J. Fox
## 2 1999                  Comedian 1/12/99 Comedy Sandra Bernhard</code></pre>
<p>You can use the functions <code>dim</code>, <code>nrow</code>, and <code>ncol</code> to figure out the dimensions (number of rows and columns) of a dataframe:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(daily_show)</code></pre></div>
<pre><code>## [1] 2693    5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(daily_show)</code></pre></div>
<pre><code>## [1] 2693</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(daily_show)</code></pre></div>
<pre><code>## [1] 5</code></pre>
</div>
</div>
<div id="using-r-functions" class="section level2">
<h2><span class="header-section-number">1.5</span> Using R functions</h2>
<div id="function-structure" class="section level3">
<h3><span class="header-section-number">1.5.1</span> Function structure</h3>
<p>In general, functions in R take the following structure:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Generic code
<span class="kw">function.name</span>(parameter <span class="dv">1</span> =<span class="st"> </span>argument <span class="dv">1</span>, parameter <span class="dv">2</span> =<span class="st"> </span>argument <span class="dv">2</span>,
              parameter <span class="dv">3</span> =<span class="st"> </span>argument <span class="dv">3</span>)  </code></pre></div>
<p>The result of the function will be output to your R session, unless you choose to save the output in an object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Generic code
new_object &lt;-<span class="st"> </span><span class="kw">function.name</span>(parameter <span class="dv">1</span> =<span class="st"> </span>argument <span class="dv">1</span>,
                            parameter <span class="dv">2</span> =<span class="st"> </span>argument <span class="dv">2</span>,
                            parameter <span class="dv">3</span> =<span class="st"> </span>argument <span class="dv">3</span>)  </code></pre></div>
<p>Here are some example function calls, to give you examples of this structure:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(daily_show)</code></pre></div>
<pre><code>##   YEAR GoogleKnowlege_Occupation    Show  Group   Raw_Guest_List
## 1 1999                     actor 1/11/99 Acting   Michael J. Fox
## 2 1999                  Comedian 1/12/99 Comedy  Sandra Bernhard
## 3 1999        television actress 1/13/99 Acting    Tracey Ullman
## 4 1999              film actress 1/14/99 Acting Gillian Anderson
## 5 1999                     actor 1/18/99 Acting David Alan Grier
## 6 1999                     actor 1/19/99 Acting  William Baldwin</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(daily_show, <span class="dt">n =</span> <span class="dv">3</span>)</code></pre></div>
<pre><code>##   YEAR GoogleKnowlege_Occupation    Show  Group  Raw_Guest_List
## 1 1999                     actor 1/11/99 Acting  Michael J. Fox
## 2 1999                  Comedian 1/12/99 Comedy Sandra Bernhard
## 3 1999        television actress 1/13/99 Acting   Tracey Ullman</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">daily_show &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;daily_show_guests.csv&quot;</span>,
                    <span class="dt">skip =</span> <span class="dv">4</span>,
                    <span class="dt">header =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>Within the function call, <em>parameters</em> allow you to customize the function to run in a certain way (e.g., use a certain dataframe as an input, give output in a certain format). Some function parameters will have <em>default arguments</em>, which means that you don’t have to put a value for that parameter for the function to run, but you can if you want the function to do something other than the default.</p>
</div>
<div id="function-help-files" class="section level3">
<h3><span class="header-section-number">1.5.2</span> Function help files</h3>
<p>You can find out more about a function, include what parameters it has and what the default values, if any, are by using <code>?</code> before the function name in the R console. For example, to find out more about the <code>read.csv</code> command, run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?read.csv</code></pre></div>
<p>From the “Usage” section of the help file, you can figure out that the only required parameter is <code>file</code>, the pathname of the file that you want to read in, since this is the only argument in the “Usage” example without an argument value:</p>
<pre><code>read.csv(file, header = TRUE, sep = &quot;,&quot;, quote = &quot;\&quot;&quot;,
         dec = &quot;.&quot;, fill = TRUE, comment.char = &quot;&quot;, ...)</code></pre>
<p>You can also see from this “Usage” section that the default value of <code>header</code> is <code>TRUE</code>, the default value of <code>sep</code> is a comma, etc.</p>
<p>The “Arguments” section explains each of the parameters, and possible arguments that each can take. For example, here is the explanation of the <code>nrows</code> parameter in the <code>read.csv</code> function:</p>
<pre><code>integer: the maximum number of rows to read in. Negative and other 
    invalid values are ignored.</code></pre>
<p>From this, you can determine that you should put in a whole number, 1 or higher, and the function will only read in that many lines of the dataframe when you run <code>read.csv</code>.</p>
</div>
<div id="function-parameters" class="section level3">
<h3><span class="header-section-number">1.5.3</span> Function parameters</h3>
<p>Each function parameter has a name (e.g., <code>nrows</code>, <code>header</code>, <code>file</code>). The safest way to call a function in R is to use the structure <code>parameter name = argument value</code> for every parameter, like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="dt">x =</span> daily_show, <span class="dt">n =</span> <span class="dv">3</span>)</code></pre></div>
<p>However, you can also give argument values by position. For example, in the <code>head</code> function, the first parameter is <code>x</code>, the object you want to look at, and the second is <code>n</code>, the number of elements you want to include when you look at the object. If you know this, you can call <code>head</code> using the shorter call:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(daily_show, <span class="dv">3</span>)</code></pre></div>
<p>If you use position alone, you will have problems if you don’t include arguments in exactly the right order. However, if you use parameter names to set each argument, it doesn’t matter what order you include arguments when calling a function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># These two calls return the exact same object</span>
<span class="kw">head</span>(<span class="dt">x =</span> daily_show, <span class="dt">n =</span> <span class="dv">3</span>)
<span class="kw">head</span>(<span class="dt">n =</span> <span class="dv">3</span>, <span class="dt">x =</span> daily_show)</code></pre></div>
<p>Because code tends to be more robust to errors when you use parameter names to set arguments, we recommend against using position, rather than name, to give arguments when calling functions, at least while you’re learning R. It’s too easy to forget the exact order and get errors in your code. However, there is one exception– the first argument to a function is almost always required (i.e., there’s not a default value), and you very quickly learn what the first parameter of most functions are as soon as you start using the function regularly. Therefore, it’s fine to use position alone to specify the first argument in a function, but for now always use the parameter name to set any later arguments:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(daily_show, <span class="dt">n =</span> <span class="dv">3</span>)</code></pre></div>
<div class="rmdtip">
<p>
Using the full parameter names for arguments can take a bit more time, since it requires more typing. However, RStudio helps you out with that by offering <em>code completion</em>. Once you start typing the first few letters of a parameter name within a function call, try pressing the tab key. All possible arguments that start with those letters should show up, and you can scroll through to pick the right one, or keep typing until the argument you want is atnthe top of the list of choices, and then press the tab key again.
</p>
</div>
</div>
</div>
<div id="r-scripts" class="section level2">
<h2><span class="header-section-number">1.6</span> R scripts</h2>
<p>This is a good point in learning R for you to start putting your work in R scripts, rather than entering commands at the console.</p>
<p>An R script is a plain text file where you can save a series of R commands. You can save the script and open it up later to see (or re-do) what you did earlier, just like you could with something like a Word document when you’re writing a paper.</p>
<p>To open a new R script in RStudio, go to the menu bar and select “File” -&gt; “New File” -&gt; “R Script”. Alternatively, you can use the keyboard shortcut Command-Shift-N. Figure <a href="r-preliminaries.html#fig:rscript">1.5</a> gives an example of an R script file opened in RStudio and points out some interesting elements.</p>
<div class="figure" style="text-align: center"><span id="fig:rscript"></span>
<img src="figures/ExampleOfRScript.jpg" alt="Example of an R script in RStudio." width="600pt" />
<p class="caption">
Figure 1.5: Example of an R script in RStudio.
</p>
</div>
<p>To save a script you’re working on, you can click on the “Save” button (which looks like a floppy disk) at the top of your R script window in RStudio or use the keyboard shortcut Command-S. You should save R scripts using a “.R” file extension.</p>
<p>Within the R script, you’ll usually want to type your code so there’s one command per line. If your command runs long, you can write a single call over multiple lines. It’s unusual to put more than one command on a single line of a script file, but you can if you separate the commands with semicolons (<code>;</code>). These rules all correspond to how you can enter commands at the console.</p>
<p>Running R code from a script file is very easy in RStudio. You can use either the “Run” button or Command-Return, and any code that is selected (i.e., that you’ve highlighted with your cursor) will run at the console. You can use this functionality to run a single line of code, multiple lines of code, or even just part of a specific line of code. If no code is highlighted, then R will instead run all the code on the line with the cursor and then move the cursor down to the next line in the script.</p>
<p>You can also run all of the code in a script. To do this, use the “Source” button at the top of the script window. You can also run the entire script either from the console or from within another script by using the <code>source()</code> function, with the filename of the script you want to run as the argument. For example, to run all of the code in a file named “MyFile.R” that is saved in your current working directory, run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">source</span>(<span class="st">&quot;MyFile.R&quot;</span>)</code></pre></div>
<p>You can add comments into an R script to let others know (and remind yourself) what you’re doing and why. To do this, use R’s comment character, <code>#</code>. Any line on a script line that starts with <code>#</code> will not be read by R. You can also take advantage of commenting to comment out certain parts of code that you don’t want to run at the moment.</p>
<p>While it’s generally best to write your R code in a script and run it from there rather than entering it interactively at the R console, there are some exceptions. A main example is when you’re initially checking out a dataset, to make sure you’ve read it in correctly. It often makes more sense to run commands for this task, like <code>str()</code>, <code>head()</code>, <code>tail()</code>, and <code>summary()</code>, at the console. These are all examples of commands where you’re trying to look at something about your data <strong>right now</strong>, rather than code that builds toward your analysis, or helps you read in or clean up your data.</p>
<div id="commenting-code" class="section level3">
<h3><span class="header-section-number">1.6.1</span> Commenting code</h3>
<p>Sometimes, you’ll want to include notes in your code. You can do this in all programming languages by using a <em>comment character</em> to start the line with your comment. In R, the comment character is the hash symbol, <code>#</code>. R will skip any line that starts with <code>#</code> in a script. For example, if you run the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Don&#39;t print this.</span>
<span class="st">&quot;But print this&quot;</span></code></pre></div>
<pre><code>## [1] &quot;But print this&quot;</code></pre>
<p>R will only print the second, uncommented line.</p>
<p>You can also use a comment in the middle of a line, to add a note on what you’re doing in that line of the code. R will skip any part of the code from the hash symbol on. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;Print this&quot;</span> ## But not this, it&#39;s a comment.</code></pre></div>
<pre><code>## [1] &quot;Print this&quot;</code></pre>
<p>There’s typically no reason to use code comments when running commands at the R console. However, it’s very important to get in the practice of including meaningful comments in R scripts. This helps you remember what you did when you revisit your code later.</p>
<blockquote>
<p>“You know you’re brilliant, but maybe you’d like to understand what you did 2 weeks from now.” – Linus Torvalds</p>
</blockquote>
</div>
</div>
<div id="in-course-exercise" class="section level2">
<h2><span class="header-section-number">1.7</span> In-course Exercise</h2>
<div id="about-the-dataset" class="section level3">
<h3><span class="header-section-number">1.7.1</span> About the dataset</h3>
<p>For today’s class, you’ll be using a dataset of all the guests on <em>The Daily Show</em> when Jon Stewart was the host. This data was originally collected by Nate Silver’s website, <a href="http://fivethirtyeight.com">FiveThirtyEight</a> and is available on <a href="https://github.com/fivethirtyeight/data/tree/master/daily-show-guests">FiveThirtyEight’s GitHub page</a> under the <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. I have copied this data into my GitHub repository for this class. The only change made to the original file was to add (commented) attribution information at the start of the file.</p>
<p><strong>First, check out a bit more about this data and its source:</strong></p>
<ul>
<li>Check out <a href="http://creativecommons.org/licenses/by/4.0/">the Creative Commons license</a>. What are we allowed to do with this data? What restrictions are there on using the data?</li>
<li>It’s often helpful to use prior knowledge to help check out or validate your dataset. One thing we might want to know about this data is if it covers the whole time that Jon Stewart hosted <em>The Daily Show</em>. Use Google to find out the dates he started and finished as host.</li>
<li>Briefly browse around <a href="https://github.com/fivethirtyeight/data">FiveThirtyEight’s GitHub data page</a>. What are some other datasets available that you find interesting? For any dataset, you can scroll to the bottom of the page to get to the compiled README.md content, which gives the full titles and links to relevant datasets. You can also click on any dataset to get more information.</li>
<li>Look at <a href="https://github.com/fivethirtyeight/data/tree/master/daily-show-guests">the GitHub page for this <em>Daily Show</em> data</a>. How many columns will be in this dataset? What kind of information does the data include? What do the columns show? What do the rows show?</li>
</ul>
<div class="rmdnote">
<p>
In this exercise, you’re using data posted by <a href="http://fivethirtyeight.com">FiveThirtyEight</a> on <a href="https://github.com">GitHub</a>. We’ll be using a lot of data that’s on GitHub this semester, and GitHub is being used behind-the-scenes for both this book and the course note slides. We’ll talk more about GitHub later, but you might find it interesting to explore a bit now. It’s a place where people can post, work on, and share code in a number of programming languages– it’s been referred to as “Facebook for Nerds”. You can search GitHub repositories and code specifically by programming language, so it can be a good way to find example R code from which to learn.
</p>
</div>
<p>If you have extra time:</p>
<ul>
<li>Check out <a href="http://fivethirtyeight.com/datalab/every-guest-jon-stewart-ever-had-on-the-daily-show/">the related article</a> on FiveThirtyEight. What are some specific questions they used this data to answer for this article?</li>
<li>Who is Nate Silver?</li>
</ul>
</div>
<div id="manually-creating-vectors-and-a-dataframe" class="section level3">
<h3><span class="header-section-number">1.7.2</span> Manually creating vectors and a dataframe</h3>
<p>Start by manually creating some vectors and data frames with a small subset of this data.</p>
<ul>
<li>Use the concatenate function (<code>c</code>) to create a vector “from scratch” with the names of the five guests to appear on the show (these could be the first five guests, or you could also randomly pick five guests). Assign this vector to an object named <code>five_guests</code>. What class (numeric or character) do you think this vector will be? Will you need to use quotation marks for each element you add to the vector?</li>
<li>Use square bracket indexing to print out the following subsets of this vector (you’ll have one R call per subset): (1) The first guest in the vector; (2) The third and fifth guests; (3) The second through fourth guests.</li>
<li>Create a new vector called <code>first_guest</code> with just the first set, using the square bracket indexing you used in the previous step.</li>
<li>In the same way, create a vector with the year of each of these guests’ appearances. Assign this vector to an object named <code>appearance_year</code>. What class (numeric or character) do you think this vector will be? Will you need to use quotation marks for each element you add to the vector?</li>
<li>Use the <code>class</code> function to determine the classes (e.g., numeric, character) of each of the vectors you just created.</li>
<li>Combine these two vectors to create a dataframe named <code>guest_list</code>. For the columns, use the same column names used in the original, raw data for the guest names and appearance year. Print out this dataframe at the R console to make sure it looks like you thought it would.</li>
<li>Use square bracket indexing to print out the following subsets of this dataframe (you’ll have one R call per subset): (1) The appearance year of the first guest; (2) Names of the third through fifth guests; (3) Names of all guests; (4) Both names and appearance years of the first and third guests.</li>
<li>The <code>str</code> function can be used to figure out the structure of a dataframe. Run this command on the <code>guest_list</code> dataframe you created. What information does this give you? Use the helpfile for <code>str</code> to help you figure this out (which you can access by running <code>?str</code>). Do you see anything that surprises you?</li>
<li>Use the <code>ls</code> function to list all the objects you currently have defined in your R session. Compare this list to the “Environment” pane in RStudio.</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># I picked five random guests from throughout the dataset. The guests you pick will </span>
<span class="co"># likely be different.</span>

<span class="co"># Create a vector with the names of five guests</span>
five_guests &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Miss Piggy&quot;</span>, <span class="st">&quot;Stanley Tucci&quot;</span>, <span class="st">&quot;Kermit the Frog&quot;</span>,
                 <span class="st">&quot;Hank Azaria&quot;</span>, <span class="st">&quot;Al Gore&quot;</span>)

<span class="co"># Use square-bracket indexing to print out some subsets of the data</span>
five_guests[<span class="dv">1</span>]
five_guests[<span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>)]
five_guests[<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>]

<span class="co"># Save just the first guest in a separate object</span>
first_guest &lt;-<span class="st"> </span>five_guests[<span class="dv">1</span>]
first_guest

<span class="co"># Create a vector with the year of the appearance of each guest</span>
appearance_year &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1999</span>, <span class="dv">2000</span>, <span class="dv">2001</span>, <span class="dv">2001</span>, <span class="dv">2002</span>)

<span class="co"># Figure out the classes of the two vectors you just created</span>
<span class="kw">class</span>(five_guests)
<span class="kw">class</span>(appearance_year)

<span class="co"># Create the data frame, then print it out to make sure it looks like you thought</span>
<span class="co"># it would</span>
guest_list &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Raw_Guest_List =</span> five_guests,
                         <span class="dt">YEAR =</span> appearance_year)
guest_list

<span class="co"># Use square bracket indexing to print subsets of the data frame</span>
guest_list[<span class="dv">1</span>, <span class="dv">2</span>]
guest_list[<span class="dv">3</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span>]
guest_list[ , <span class="dv">1</span>]
guest_list[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), ]

<span class="co"># Use `str` to check out the structure of the data frame you created</span>
<span class="kw">str</span>(guest_list)</code></pre></div>
</div>
<div id="installing-and-using-a-package" class="section level3">
<h3><span class="header-section-number">1.7.3</span> Installing and using a package</h3>
<p>The <code>stringr</code> package includes a number of functions that make it easier to work with character strings in R. In particular, it includes functions to change the capitalization of words in character stings. Here, you’ll install and load this package and then use it to work with the <code>five_guests</code> vector we created in the last section.</p>
<ul>
<li>If you have not already installed the <code>stringr</code> package, install it from CRAN.</li>
<li>Load the <code>stringr</code> package in your current R session, so you will be able to use its functions.</li>
<li>Check if the package has a vignette. If so, check out out that vignette.</li>
<li>See if you can use the <code>str_to_lower</code> function from the <code>stringr</code> package to convert all the names in your <code>five_guests</code> vector to lowercase.</li>
<li>See if you can find a function in the <code>stringr</code> package that you can use to convert all the names in your <code>five_guests</code> vector to uppercase. (Hint: At the R console, try typing <code>?stringr::</code> and then the Tab key.)</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># If you need to, install the package from CRAN</span>
<span class="kw">install.packages</span>(<span class="st">&quot;stringr&quot;</span>)

<span class="co"># Load the package into your current R session</span>
<span class="kw">library</span>(stringr)

<span class="co"># Open the package&#39;s vignette</span>
<span class="kw">vignette</span>(<span class="st">&quot;stringr&quot;</span>)

<span class="co"># Convert the `five_guests` strings to lowercase</span>
<span class="kw">str_to_lower</span>(five_guests)

<span class="co"># Convert the `five_guests` strings to uppercase</span>
<span class="kw">str_to_upper</span>(five_guests)</code></pre></div>
</div>
<div id="getting-the-data-onto-your-computer" class="section level3">
<h3><span class="header-section-number">1.7.4</span> Getting the data onto your computer</h3>
<p>Next, we will work with the whole dataset. Download the data from GitHub onto your computer. Make a directory (folder) on your computer specifically for this course (I strongly recommend that you put it somewhere where the file path will not have any spaces in it– for example, putting it in your home directory, under the name “R_Prog_Course” would be great. Putting it in a directory called “R Prog Course” would not.). Put the <em>Daily Show</em> data in your directory for this course.</p>
<p><strong>Take the following steps to get the data onto your computer</strong></p>
<ul>
<li>Find out what your home directory is in R. To do this, make sure R is set to your home directory using <code>setwd(&quot;~&quot;)</code>, and then get R to print that home directory path using <code>getwd()</code>.</li>
<li>If you do not yet have a directory (folder) just for this course, make one someplace straightforward like in your home directory. Do not use any spaces in the directory name.</li>
<li>Download the file <a href="https://github.com/geanders/RProgrammingForResearch/blob/master/data/daily_show_guests.csv">from GitHub</a>. Right click on <code>Raw</code> and then choose “Download linked file”. Put the file into the directory you created for this course.</li>
<li>Outside of R, open Finder (for Macs), Windows Explorer (for Windows), or your system’s equivalent. Go to your home directory (mine, for example, is <code>/Users/brookeanderson</code>). Figure out how to get from your home directory to the directory you created for this course. If you create the course directory as a subdirectory in your home directory, this will just be one step from your home directory.</li>
<li>Go back into R. Set R’s working directory to your directory for this class using the <code>setwd</code> command, now that you know the pathname for the directory. For example, I would use <code>setwd(&quot;~/RProgrammingForResearch/data&quot;)</code>.</li>
<li>Use the <code>list.files</code> command to make sure that the “daily_show_guests.csv” file is in your current working directory.</li>
</ul>
<p>The full R code for this task might look something like:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Set the working directory to your home directory</span>
<span class="kw">setwd</span>(<span class="st">&quot;~&quot;</span>)

<span class="co"># Print out the current working directory</span>
<span class="kw">getwd</span>()

<span class="co"># Example code to re-set the working directory to your course directory</span>
<span class="kw">setwd</span>(<span class="st">&quot;~/RProgrammingForResearch&quot;</span>)

<span class="co"># List the files in your current working directory</span>
<span class="kw">list.files</span>()

<span class="st">&quot;daily_show_guests.csv&quot;</span> <span class="op">%in%</span><span class="st"> </span><span class="kw">list.files</span>()</code></pre></div>
<p>If you have extra time:</p>
<ul>
<li>See if you can figure out the last line of code in the example R code.</li>
</ul>
</div>
<div id="getting-the-data-into-r" class="section level3">
<h3><span class="header-section-number">1.7.5</span> Getting the data into R</h3>
<p>Now that you have the dataset in your working directory, you can read it into R. This dataset is in a <em>csv</em> (comma separated values) format. (We will talk more about different file formats next week.) You can read csv files into R using the <code>read.csv</code> function.</p>
<p><strong>Read the data into your R session</strong></p>
<ul>
<li>Use the <code>read.csv</code> function to read the data into R and save it as the object <code>daily_show</code>.</li>
<li>Use the help file for the <code>read.csv</code> function to figure out how this function works. To pull that up, type <code>?read.csv</code> at the R console. Why are we using the option <code>header = TRUE</code>? Can you figure out why we’re using the <code>skip</code> option, and why it’s set to 4?</li>
<li>Note that you need to put the file name in quotation marks.</li>
<li>What would have happened if you’d used <code>read.csv</code> but hadn’t saved the result as the object <code>daily_show</code>? (For example, you’d run the code <code>read.csv(&quot;daily_show_guests.csv&quot;)</code> rather than <code>daily_show &lt;- read.csv(&quot;daily_show_guests.csv&quot;)</code>.)</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Read in dataframe from the csv file with Daily Show guests</span>
daily_show &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;daily_show_guests.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">skip =</span> <span class="dv">4</span>)</code></pre></div>
<p>If you have extra time:</p>
<ul>
<li>Say this was a really big dataset. You want to check out just the first 10 rows to make sure that you’ve got your code right before you take the time to pull in the whole dataset. Use the help file for <code>read.csv</code> to figure out how to only read in a few rows.</li>
<li>Look through the help file for other options available for <code>read.csv</code>. Can you think of examples when some of these options would be useful?</li>
<li>Look again at the version of this raw data on FiveThirtyEight’s GitHub page (rather than the course’s GitHub repository, where you downloaded the data for the course exercise). How are these two versions of the raw data different? How would you need to change your <code>read.csv</code> call if you changed to use the FiveThirtyEight version of the raw data?</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Read in only the first 10 rows of the dataset</span>
daily_show_first10 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;daily_show_guests.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>,
                       <span class="dt">skip =</span> <span class="dv">4</span>, <span class="dt">nrows =</span> <span class="dv">10</span>)
daily_show_first10</code></pre></div>
</div>
<div id="checking-out-the-data" class="section level3">
<h3><span class="header-section-number">1.7.6</span> Checking out the data</h3>
<p>You now have the data available in your current R session as the <code>daily_show</code> object. You’ll want to check it out to make sure it read in correctly, and also to get a feel for the data. Throughout, you can use the help pages to figure out more about any of the functions being used (for example, <code>?dim</code>).</p>
<p><strong>Take the following steps to check out the dataset</strong></p>
<ul>
<li>Use the <code>dim</code> function to find out how many rows and columns this dataframe has. Based on what you found out about the data from the GitHub page, does it have the number of columns you expected? Based on what you know about the data (all the guests who came on The Daily Show with Jon Stewart), do you think it has about the right number of rows?</li>
<li>Use indexing to look at the first two rows of the dataset. Based on this, what does each row “measure”? What information do you get for each “measurement”? As a reminder, indexing uses square brackets immediately after the object name. If the object has two dimensions, like a dataframe (rows and columns), you put the rows you want, then a comma, then the columns you want. If you want all rows (or columns), you leave that space blank. For example, if you wanted to get the first two rows and the first three columns, you’d use <code>daily_show[1:2, 1:3]</code>. If you wanted to get the first five rows and all the columns, you’d use <code>daily_show[1:5, ]</code>.</li>
<li>Use the <code>head</code> function to look at the first few rows of the dataframe. Does it look like the rows go in order by date? What was the date of Jon Stewart’s first show? Does it look like this dataset covers that first show?</li>
<li>Use the <code>tail</code> function to look at the last few rows of the dataframe. What is the last show date covered by the dataframe? Who was the last guest?</li>
<li>Use the <code>str</code> function to get more details about the <code>daily_show</code> dataframe you read in.</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Use indexing to see a subset of the data</span>
daily_show[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, ]

<span class="co"># Check the dimensions of the data</span>
<span class="kw">dim</span>(daily_show)
<span class="kw">head</span>(daily_show)
<span class="kw">tail</span>(daily_show)</code></pre></div>
<p>If you have extra time:</p>
<ul>
<li>Say you wanted to look at the first ten rows of the dataframe, rather than the first six. How could you use an option with <code>head</code> to do this?</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Look at the first few rows of the data</span>
<span class="kw">head</span>(daily_show, <span class="dt">n =</span> <span class="dv">10</span>)</code></pre></div>
</div>
<div id="using-the-data-to-answer-questions" class="section level3">
<h3><span class="header-section-number">1.7.7</span> Using the data to answer questions</h3>
<p>Nate Silver was a guest on <em>The Daily Show</em>. Let’s use this data to figure out how many times he was a guest and when he was on the show.</p>
<p><strong>Find out more about Nate Silver on The Daily Show</strong></p>
<ul>
<li>The <code>subset</code> function can be combined with logical statements to help you create a specific subset of data. For example, if you only wanted data from guest visits in 1999, you could run <code>subset(daily_show, YEAR == 1999)</code>. Check out the helpfile for <code>subset</code> and use the function to create a new dataframe that only has the rows of <code>daily_show</code> when Nate Silve was a guest. Put it in the object <code>nate_silver</code>.</li>
<li>Print out the full <code>nate_silver</code> dataframe by typing <code>nate_silver</code>. (You could just use this to answer both questions, but still try the next steps. They would be important with a bigger dataset.)</li>
<li>To count the number of times Nate Silver was a guest, you’ll need to count the number of rows in the new dataset. You can either use the <code>dim</code> function or the <code>nrow</code> function to do this. What additional information does the <code>dim</code> function give you?</li>
<li>To get the dates when Nate Silver was a guest, you can print out just the <code>Show</code> column of the dataframe. There are a few ways you can do this using indexing: <code>nate_silver[ , 3]</code> (since <code>Show</code> is the third column), <code>nate_silver[ , &quot;Show&quot;]</code>, or <code>nate_silver$Show</code>. Try these.</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a subset of the data with just Nate Silver appearances</span>
nate_silver &lt;-<span class="st"> </span><span class="kw">subset</span>(daily_show, 
                      Raw_Guest_List <span class="op">==</span><span class="st"> &quot;Nate Silver&quot;</span>)

<span class="co"># Investigate this subset of the data</span>
nate_silver
<span class="kw">dim</span>(nate_silver)
<span class="kw">nrow</span>(nate_silver)
nate_silver[ , <span class="dv">3</span>]
nate_silver[ , <span class="st">&quot;Show&quot;</span>]</code></pre></div>
<p>If you have extra time:</p>
<ul>
<li>When you print out the <code>Show</code> column, why does it also print out something underneath about Levels? Hint: This has to do with the class that R has saved this column as. What class is it currently? What other classes might we want to consider converting it to as we continue working with the dataset? Check out the example code below to get some ideas.</li>
<li>Was Nate Silver the only statistician to be a guest on the show?</li>
<li>What were the occupations that were only represented by one guest visit? Since <code>GoogleKnowlege_Occupation</code> is a factor, you can use the <code>table</code> function to create a new vector with the number of times each value of <code>GoogleKnowlege_Occupation</code> shows up. You can put this information into a new vector and then pull out only the values that equal 1 (so, only had one guest). (Note that “Statistician” doesn’t show up– there was only one person who was a guest, but he had three visits.) Pick your favorite “one-off” example and find out who the guest was for that occupation.</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(nate_silver<span class="op">$</span>Show)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">range</span>(nate_silver<span class="op">$</span>Show)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nate_silver<span class="op">$</span>Show &lt;-<span class="st"> </span><span class="kw">as.Date</span>(nate_silver<span class="op">$</span>Show,
                            <span class="dt">format =</span> <span class="st">&quot;%m/%d/%y&quot;</span>)
<span class="kw">range</span>(nate_silver<span class="op">$</span>Show)
<span class="kw">diff</span>(<span class="kw">range</span>(nate_silver<span class="op">$</span>Show)) <span class="co"># Time between Nate&#39;s first and last shows</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">statisticians &lt;-<span class="st"> </span><span class="kw">subset</span>(daily_show,
                        GoogleKnowlege_Occupation <span class="op">==</span><span class="st"> &quot;Statistician&quot;</span>)
statisticians</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">num_visits &lt;-<span class="st"> </span><span class="kw">table</span>(daily_show[ , <span class="dv">2</span>])
<span class="kw">head</span>(num_visits) <span class="co"># Note: This is a vector rather than a dataframe</span>
<span class="kw">names</span>(num_visits[num_visits <span class="op">==</span><span class="st"> </span><span class="dv">1</span>])
<span class="kw">subset</span>(daily_show, GoogleKnowlege_Occupation <span class="op">==</span><span class="st"> &quot;chess player&quot;</span>)
<span class="kw">subset</span>(daily_show, GoogleKnowlege_Occupation <span class="op">==</span><span class="st"> &quot;mathematician&quot;</span>)
<span class="kw">subset</span>(daily_show, GoogleKnowlege_Occupation <span class="op">==</span><span class="st"> &quot;orca trainer&quot;</span>)
<span class="kw">subset</span>(daily_show, GoogleKnowlege_Occupation <span class="op">==</span><span class="st"> &quot;Puzzle Creator&quot;</span>)
<span class="kw">subset</span>(daily_show, GoogleKnowlege_Occupation <span class="op">==</span><span class="st"> &quot;Scholar&quot;</span>)</code></pre></div>
</div>
<div id="writing-your-code-as-an-r-script" class="section level3">
<h3><span class="header-section-number">1.7.8</span> Writing your code as an R script</h3>
<p>While the R console is fine for initially exploring data, you should get in the habit of writing up R code in an R script for most of your data analysis projects in R.</p>
<ul>
<li>Open a new R script and save it to your current working directory (i.e., wherever you saved the data you downloaded for this exercise).</li>
<li>Take some of the code that you wrote for this exercise (including the function to read the data into R). Put it in the R script. Do not put more than one function call per line (but it’s fine to have longer function calls span a few lines).</li>
<li>Use the “Run” button to run a single line of this code. Check the console to see what happens when you do.</li>
<li>Highlight a few lines of the code and use “Run” to run them.</li>
<li>Try using the keyboard shortcut (Command-Return) to run the line of code your cursor is currently on. Try doing this with a function call that runs across several lines of the R script file– what do you see at the console?</li>
<li>Try running the whole script using “Source”. Again, look at the console after you “source” the script.</li>
<li>Close your R session (and save any changes to your R script). Do <strong>not</strong> save your R session history. Re-open R and see if you can re-open your R script and re-run it. Try using <code>ls()</code> to list the objects in your R session before and after you re-run your script. Does anything about the results surprise you?</li>
</ul>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="course-information.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="entering-and-cleaning-data-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/geanders/RProgrammingForResearch/edit/master/01-prelim.Rmd",
"text": "Edit"
},
"download": ["RProgrammingForResearch.pdf", "RProgrammingForResearch.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
